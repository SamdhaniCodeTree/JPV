(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{LH3y:function(t,i,e){"use strict";e.d(i,"a",(function(){return r}));var n=e("un/a"),s=e("fXoL"),a=e("tk/3"),o=e("kh7C");let r=(()=>{class t{constructor(t,i){this.httpClient=t,this.utils=i,this.inspectionURL="",this.inspectionURL=i.baseUrl()+"api/inspection/"}farmerListBySocietyId(t){return this.httpClient.post(this.inspectionURL+"farmerListBySocietyId",t,this.utils.getPostHttpOptions()).pipe(Object(n.a)(this.utils.env.API_RETRY_COUNT)).toPromise()}milkInspectionSub(t){return this.httpClient.post(this.inspectionURL+"milkInspectionSub",t,this.utils.getPostHttpOptions()).pipe(Object(n.a)(this.utils.env.API_RETRY_COUNT)).toPromise()}societyInspectionSub(t){return this.httpClient.post(this.inspectionURL+"societyInspectionSub",t,this.utils.getPostHttpOptions()).pipe(Object(n.a)(this.utils.env.API_RETRY_COUNT)).toPromise()}equipmentList(t){return this.httpClient.post(this.inspectionURL+"equipmentList",t,this.utils.getPostHttpOptions()).pipe(Object(n.a)(this.utils.env.API_RETRY_COUNT)).toPromise()}reasonList(t){return this.httpClient.post(this.inspectionURL+"reasonList",t,this.utils.getPostHttpOptions()).pipe(Object(n.a)(this.utils.env.API_RETRY_COUNT)).toPromise()}paymentInspectionSub(t){return this.httpClient.post(this.inspectionURL+"paymentInspectionSub",t,this.utils.getPostHttpOptions()).pipe(Object(n.a)(this.utils.env.API_RETRY_COUNT)).toPromise()}paymentCycleList(t){return this.httpClient.post(this.inspectionURL+"paymentCycleList",t,this.utils.getPostHttpOptions()).pipe(Object(n.a)(this.utils.env.API_RETRY_COUNT)).toPromise()}}return t.\u0275fac=function(i){return new(i||t)(s.Sb(a.b),s.Sb(o.a))},t.\u0275prov=s.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},bbQw:function(t,i,e){"use strict";e.r(i),e.d(i,"CollectorModule",(function(){return Et}));var n=e("ofXK"),s=e("tyNb"),a=e("UTcu"),o=e("fXoL"),r=e("JqCM"),c=e("mZtN"),b=e("kh7C"),l=e("d//k"),d=e("mAmA"),p=e("FCe2");function h(t,i){if(1&t){const t=o.Pb();o.Ob(0,"a",34),o.Vb("click",(function(){o.oc(t);const e=i.$implicit;return o.Xb().btnDocumentDownload(e.URL)})),o.wc(1),o.Nb()}if(2&t){const t=i.$implicit;o.xb(1),o.yc(" ",t.NAME," ")}}const u=function(){return{exact:!0}};let m=(()=>{class t{constructor(t,i,e,n,s,a,o){this.spinner=t,this.router=i,this.session=e,this.utils=n,this.loginAPI=s,this.toast=a,this.userManual=o,this.guideLines=this.userManual.guideLines}ngOnInit(){""!=this.session.uniqueId&&""!=this.session.desigId||this.router.navigate(["/shared/UnAuthorized"]),this.userName=this.session.userName,this.lastLoginTime=this.session.lastLoginTime,"0"===this.session.passwordUpdate&&this.utils.updatePassword(this.session.desigId)}btnLogout(){if(confirm("are you sure want to logout ?")){const t={userName:this.userName};this.spinner.show(),this.loginAPI.logout(t).then(t=>{t.success?(alert(t.message),sessionStorage.clear(),this.session.clearSession(),this.router.navigate(["/"])):this.toast.info(t.message),this.spinner.hide()}).catch(t=>{this.spinner.hide(),this.utils.catchResponse(t)})}}btnForgetPassword(){this.utils.updatePassword(this.session.desigId)}btnReports(){let t=this.utils.reportsSSOUrl()+this.session.accessToken;window.open(t,"_Blank")}btnDocumentDownload(t){this.utils.isEmpty(t)?this.toast.warning("User Manual Not Found !!!"):window.open(t,"_blank")}}return t.\u0275fac=function(i){return new(i||t)(o.Jb(r.c),o.Jb(s.c),o.Jb(c.a),o.Jb(b.a),o.Jb(l.a),o.Jb(d.a),o.Jb(p.a))},t.\u0275cmp=o.Db({type:t,selectors:[["app-common"]],decls:87,vars:13,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","blue-green-gradient"],[1,"navbar-brand","d-flex","align-items-center",2,"cursor","pointer"],["src","https://apddcf.ap.gov.in/cdn/img/ap-logo.png",1,"brand-logo",2,"width","50px"],[1,"brand-text","text-white","mb-0","font-weight-normal","ml-1"],["id","basicExampleNav",1,"collapse","navbar-collapse"],[1,"navbar-nav","ml-auto"],[1,"nav-item","text-right"],["src","https://apddcf.ap.gov.in/cdn/img/CM.png",1,"brand-logo",2,"width","50px"],[1,"text-center"],[2,"font-size","12px","margin-bottom","0","color","#fff"],[1,"menu-navbar","navbar","navbar-expand-lg","navbar-dark","primary-color-dark","py-md-0","text-white"],[1,"navbar-brand","d-md-none","d-block",2,"cursor","pointer"],["type","button","data-toggle","collapse","data-target","#navbarSupportedContent-333","aria-controls","navbarSupportedContent-333","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent-333",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto","align-items-center"],["routerLinkActive","active",1,"nav-item","dropdown"],["id","navbarDropdownMenuLink-333","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"nav-link","dropdown-toggle",2,"cursor","pointer"],[1,"fab","fa-wpforms"],["aria-labelledby","navbarDropdownMenuLink-333",1,"dropdown-menu","dropdown-primary"],["routerLink","registerFarmer","routerLinkActive","active",1,"dropdown-item",3,"routerLinkActiveOptions"],["routerLink","registerFarmerStatus","routerLinkActive","active",1,"dropdown-item",3,"routerLinkActiveOptions"],["routerLink","milkInspection","routerLinkActive","active",1,"dropdown-item",3,"routerLinkActiveOptions"],["routerLink","societyInspection","routerLinkActive","active",1,"dropdown-item",3,"routerLinkActiveOptions"],["routerLink","payWiseInspection","routerLinkActive","active",1,"dropdown-item",3,"routerLinkActiveOptions"],["routerLinkActive","active",1,"nav-item","dropdown",2,"display","none"],["class","dropdown-item","style","cursor: pointer",3,"click",4,"ngFor","ngForOf"],["routerLinkActive","active",1,"nav-item"],[1,"nav-link",2,"cursor","pointer",3,"click"],[1,"navbar-nav","ml-auto","nav-flex-icons"],["id","navbarDropdownMenuLink-333","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"nav-link","dropdown-toggle","d-flex","align-items-center",2,"cursor","pointer"],[1,"mb-0","mr-1"],[1,"fas","fa-user"],["aria-labelledby","navbarDropdownMenuLink-333",1,"dropdown-menu","dropdown-menu-right","dropdown-primary"],[1,"dropdown-item",2,"cursor","pointer",3,"click"],[1,"fas","fa-key"],[1,"fas","fa-sign-out-alt"],[1,"my-1"],[1,"dropdown-item","text-center",2,"cursor","pointer"],[1,"text-danger"],["id","page-container"],["id","content-wrap"],[1,"container-fluid"],[1,"row"],[1,"col-md-11","mx-auto"],[1,"page-footer","font-small","blue"],[1,"footer-copyright","text-center","pt-3"],[2,"cursor","pointer","color","#fff"],["src","https://apddcf.ap.gov.in/cdn/img/apddcf-circle.png",2,"width","30px"]],template:function(t,i){1&t&&(o.Ob(0,"nav",0),o.Ob(1,"a",1),o.Kb(2,"img",2),o.Ob(3,"h5",3),o.wc(4," Andhra Pradesh Dairy Development Cooperative Federation Limited (APDDCF) "),o.Nb(),o.Nb(),o.Ob(5,"div",4),o.Ob(6,"ul",5),o.Ob(7,"li",6),o.Ob(8,"a",1),o.Kb(9,"img",7),o.Ob(10,"div",8),o.Ob(11,"h6",3),o.wc(12," Sri Nara Chandrababu Naidu "),o.Nb(),o.Ob(13,"p",9),o.wc(14," Hon\u2019ble Chief Minister, "),o.Kb(15,"br"),o.wc(16," Andhra Pradesh "),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Ob(17,"nav",10),o.Ob(18,"a",11),o.wc(19,"MENU"),o.Nb(),o.Ob(20,"button",12),o.Kb(21,"span",13),o.Nb(),o.Ob(22,"div",14),o.Ob(23,"ul",15),o.Ob(24,"li",16),o.Ob(25,"a",17),o.Kb(26,"i",18),o.wc(27," Menu "),o.Nb(),o.Ob(28,"div",19),o.Ob(29,"a",20),o.wc(30," REGISTER FARMER "),o.Nb(),o.Ob(31,"a",21),o.wc(32," FARMER REGISTER STATUS "),o.Nb(),o.Nb(),o.Nb(),o.Ob(33,"li",16),o.Ob(34,"a",17),o.Kb(35,"i",18),o.wc(36," Inspection "),o.Nb(),o.Ob(37,"div",19),o.Ob(38,"a",22),o.wc(39," Milk Inspection "),o.Nb(),o.Ob(40,"a",23),o.wc(41," Society Inspection "),o.Nb(),o.Ob(42,"a",24),o.wc(43," Payment Inspection "),o.Nb(),o.Nb(),o.Nb(),o.Ob(44,"li",25),o.Ob(45,"a",17),o.Kb(46,"i",18),o.wc(47," Guidelines "),o.Nb(),o.Ob(48,"div",19),o.vc(49,h,2,1,"a",26),o.Nb(),o.Nb(),o.Ob(50,"li",27),o.Ob(51,"a",28),o.Vb("click",(function(){return i.btnReports()})),o.Kb(52,"i",18),o.wc(53," Reports "),o.Nb(),o.Nb(),o.Nb(),o.Ob(54,"ul",29),o.Ob(55,"li",16),o.Ob(56,"a",30),o.Ob(57,"h6",31),o.wc(58," Welcome "),o.Ob(59,"b"),o.wc(60),o.Nb(),o.Nb(),o.Kb(61,"i",32),o.Nb(),o.Ob(62,"div",33),o.Ob(63,"a",34),o.Vb("click",(function(){return i.btnForgetPassword()})),o.Kb(64,"i",35),o.wc(65," Forget Password "),o.Nb(),o.Ob(66,"a",34),o.Vb("click",(function(){return i.btnLogout()})),o.Kb(67,"i",36),o.wc(68," Logout "),o.Nb(),o.Kb(69,"hr",37),o.Ob(70,"a",38),o.Ob(71,"span"),o.wc(72,"Last logged in: "),o.Kb(73,"br"),o.Ob(74,"b",39),o.wc(75),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Ob(76,"div",40),o.Ob(77,"div",41),o.Ob(78,"div",42),o.Ob(79,"div",43),o.Ob(80,"div",44),o.Kb(81,"router-outlet"),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Ob(82,"footer",45),o.Ob(83,"div",46),o.Ob(84,"a",47),o.Kb(85,"img",48),o.wc(86," Andhra Pradesh Dairy Development Cooperative Federation Limited (APDDCF) "),o.Nb(),o.Nb(),o.Nb(),o.Nb()),2&t&&(o.xb(29),o.ec("routerLinkActiveOptions",o.hc(8,u)),o.xb(2),o.ec("routerLinkActiveOptions",o.hc(9,u)),o.xb(7),o.ec("routerLinkActiveOptions",o.hc(10,u)),o.xb(2),o.ec("routerLinkActiveOptions",o.hc(11,u)),o.xb(2),o.ec("routerLinkActiveOptions",o.hc(12,u)),o.xb(7),o.ec("ngForOf",i.guideLines),o.xb(11),o.xc(i.userName),o.xb(15),o.xc(i.lastLoginTime))},directives:[s.d,s.e,n.l,s.g],styles:[""]}),t})();var N=e("mrSG"),O=e("njyG"),g=e("XNiG"),f=e("1ru6"),I=e("jhN1"),D=e("cpEJ"),v=e("3Pt+"),A=e("Pd9Q"),w=e("+IkA");const y=["passBookImgUpload"];function E(t,i){if(1&t){const t=o.Pb();o.Ob(0,"button",36),o.Vb("click",(function(){return o.oc(t),o.Xb().btnMonthlyPouringDetails()})),o.wc(1," MONTHLY MILK POURING REPORT "),o.Nb()}}function M(t,i){if(1&t){const t=o.Pb();o.Ob(0,"div",39),o.Ob(1,"label"),o.wc(2,"BANK PASSBOOK IMAGE :"),o.Nb(),o.Ob(3,"img",42),o.Vb("click",(function(){o.oc(t);const i=o.Xb(2);return i.btnImage(i.bankImage)})),o.Nb(),o.Nb()}if(2&t){const t=o.Xb(2);o.xb(3),o.ec("src","data:image/jpeg;base64,"+t.bankImage,o.rc)}}function C(t,i){1&t&&(o.Ob(0,"div",39),o.Ob(1,"div",8),o.Ob(2,"label"),o.wc(3,"BANK PASSBOOK IMAGE : "),o.Ob(4,"span",40),o.Ob(5,"b"),o.wc(6,"NA"),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Nb())}function k(t,i){if(1&t&&(o.Ob(0,"div"),o.Ob(1,"h5",37),o.Ob(2,"label"),o.wc(3,"Farmer Registration Details"),o.Nb(),o.Nb(),o.Ob(4,"div",38),o.Ob(5,"div",39),o.Ob(6,"div",8),o.Ob(7,"label"),o.wc(8," NAME : "),o.Ob(9,"span",40),o.Ob(10,"b"),o.wc(11),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Ob(12,"div",39),o.Ob(13,"div",8),o.Ob(14,"label"),o.wc(15," CODE : "),o.Ob(16,"span",40),o.Ob(17,"b"),o.wc(18),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Ob(19,"div",39),o.Ob(20,"div",8),o.Ob(21,"label"),o.wc(22,"MOBILE NUMBER : "),o.Ob(23,"span",40),o.Ob(24,"b"),o.wc(25),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Ob(26,"div",39),o.Ob(27,"div",8),o.Ob(28,"label"),o.wc(29,"DISTRICT : "),o.Ob(30,"span",40),o.Ob(31,"b"),o.wc(32),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Ob(33,"div",39),o.Ob(34,"div",8),o.Ob(35,"label"),o.wc(36,"MANDAL NAME : "),o.Ob(37,"span",40),o.Ob(38,"b"),o.wc(39),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Ob(40,"div",39),o.Ob(41,"div",8),o.Ob(42,"label"),o.wc(43,"RSK NAME : "),o.Ob(44,"span",40),o.Ob(45,"b"),o.wc(46),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Ob(47,"div",39),o.Ob(48,"div",8),o.Ob(49,"label"),o.wc(50,"VILLAGE NAME : "),o.Ob(51,"span",40),o.Ob(52,"b"),o.wc(53),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Ob(54,"div",39),o.Ob(55,"div",8),o.Ob(56,"label"),o.wc(57," BANK ACCOUNT NUMBER : "),o.Ob(58,"span",40),o.Ob(59,"b"),o.wc(60),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Ob(61,"div",39),o.Ob(62,"div",8),o.Ob(63,"label"),o.wc(64,"IFSC CODE : "),o.Ob(65,"span",40),o.Ob(66,"b"),o.wc(67),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Ob(68,"div",39),o.Ob(69,"div",8),o.Ob(70,"label"),o.wc(71,"BANK NAME : "),o.Ob(72,"span",40),o.Ob(73,"b"),o.wc(74),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Ob(75,"div",39),o.Ob(76,"div",8),o.Ob(77,"label"),o.wc(78,"BRANCH NAME : "),o.Ob(79,"span",40),o.Ob(80,"b"),o.wc(81),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Ob(82,"div",39),o.Ob(83,"div",8),o.Ob(84,"label"),o.wc(85,"BANK PIN CODE : "),o.Ob(86,"span",40),o.Ob(87,"b"),o.wc(88),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Ob(89,"div",39),o.Ob(90,"div",8),o.Ob(91,"label"),o.wc(92," NO OF TIMES BANK ACCOUNT UPDATED : "),o.Ob(93,"span",40),o.Ob(94,"b"),o.wc(95),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Ob(96,"div",39),o.Ob(97,"div",8),o.Ob(98,"label"),o.wc(99,"PAN CARD NO : "),o.Ob(100,"span",40),o.Ob(101,"b"),o.wc(102),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.vc(103,M,4,1,"div",41),o.vc(104,C,7,0,"div",41),o.Ob(105,"div",39),o.Ob(106,"div",8),o.Ob(107,"label"),o.wc(108,"NO OF MILCH ANIMALS : "),o.Ob(109,"span",40),o.Ob(110,"b"),o.wc(111),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Ob(112,"h5",37),o.Ob(113,"label"),o.wc(114,"Registered By"),o.Nb(),o.Nb(),o.Ob(115,"div",38),o.Ob(116,"div",39),o.Ob(117,"div",8),o.Ob(118,"label"),o.wc(119," NAME : "),o.Ob(120,"span",40),o.Ob(121,"b"),o.wc(122),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Ob(123,"div",39),o.Ob(124,"div",8),o.Ob(125,"label"),o.wc(126," DESIGNATION : "),o.Ob(127,"span",40),o.Ob(128,"b"),o.wc(129),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Ob(130,"div",39),o.Ob(131,"div",8),o.Ob(132,"label"),o.wc(133," DATE : "),o.Ob(134,"span",40),o.Ob(135,"b"),o.wc(136),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Ob(137,"h5",37),o.Ob(138,"label"),o.wc(139,"Updated By"),o.Nb(),o.Nb(),o.Ob(140,"div",38),o.Ob(141,"div",39),o.Ob(142,"div",8),o.Ob(143,"label"),o.wc(144," NAME : "),o.Ob(145,"span",40),o.Ob(146,"b"),o.wc(147),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Ob(148,"div",39),o.Ob(149,"div",8),o.Ob(150,"label"),o.wc(151," DESIGNATION : "),o.Ob(152,"span",40),o.Ob(153,"b"),o.wc(154),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Ob(155,"div",39),o.Ob(156,"div",8),o.Ob(157,"label"),o.wc(158," DATE : "),o.Ob(159,"span",40),o.Ob(160,"b"),o.wc(161),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Nb()),2&t){const t=o.Xb();o.xb(11),o.xc(t.personDetails.FARMER_NAME),o.xb(7),o.xc(t.personDetails.FARMER_CODE),o.xb(7),o.xc(t.personDetails.MOBILE_NUMBER),o.xb(7),o.xc(t.personDetails.DISTRICT),o.xb(7),o.xc(t.personDetails.MANDAL_NAME),o.xb(7),o.xc(t.personDetails.RBK_NAME),o.xb(7),o.xc(t.personDetails.VILLAGE_NAME),o.xb(7),o.xc(t.personDetails.ACCOUNT_NUMBER),o.xb(7),o.xc(t.personDetails.IFSC_CODE),o.xb(7),o.xc(t.personDetails.BANK_NAME),o.xb(7),o.xc(t.personDetails.BANK_BRANCH),o.xb(7),o.xc(t.personDetails.BANK_PINCODE),o.xb(7),o.xc(t.personDetails.TOTAL_TIMES_UPDATED),o.xb(7),o.xc(null===t.personDetails.PAN_CARD?"NA":t.personDetails.PAN_CARD),o.xb(1),o.ec("ngIf",null!==t.personDetails.PASSBOOK_IMG),o.xb(1),o.ec("ngIf",null===t.personDetails.PASSBOOK_IMG),o.xb(7),o.xc(t.personDetails.NO_OF_MILCH_ANIMALS),o.xb(11),o.xc(t.personDetails.REGI_BY_NAME),o.xb(7),o.xc(t.personDetails.REGI_DESIGNATION),o.xb(7),o.xc(t.personDetails.INSERTED_DATE),o.xb(11),o.xc(t.personDetails.UPDATED_BY_NAME),o.xb(7),o.xc(t.personDetails.UPDATED_BY_DESIGNATION),o.xb(7),o.xc(t.personDetails.UPDATED_DATE)}}function L(t,i){if(1&t){const t=o.Pb();o.Ob(0,"div",43),o.Ob(1,"div",44),o.Ob(2,"div",25),o.Ob(3,"h4",26),o.wc(4,"BANK PASSBOOK IMAGE UPDATE"),o.Nb(),o.Ob(5,"a",27),o.Vb("click",(function(){return o.oc(t),o.Xb().BankPassBookPopUp=!1})),o.Ob(6,"span"),o.wc(7,"\xd7"),o.Nb(),o.Nb(),o.Nb(),o.Ob(8,"div",28),o.Ob(9,"div",29),o.Ob(10,"div",30),o.Ob(11,"div",8),o.Ob(12,"label",45),o.wc(13," Bank PassBook Image Upload "),o.Ob(14,"span",46),o.wc(15,"*"),o.Nb(),o.Nb(),o.Ob(16,"input",47,48),o.Vb("change",(function(i){return o.oc(t),o.Xb().onPassBookImageChange(i)})),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Ob(18,"div",49),o.Ob(19,"button",50),o.Vb("click",(function(){return o.oc(t),o.Xb().btnImageUpdate()})),o.wc(20," UPDATE "),o.Nb(),o.Ob(21,"button",51),o.Vb("click",(function(){return o.oc(t),o.Xb().BankPassBookPopUp=!1})),o.wc(22," Close "),o.Nb(),o.Nb(),o.Nb(),o.Nb()}}function S(t,i){if(1&t&&(o.Ob(0,"tr"),o.Ob(1,"td"),o.wc(2),o.Nb(),o.Ob(3,"td"),o.wc(4),o.Nb(),o.Ob(5,"td"),o.wc(6),o.Nb(),o.Ob(7,"td"),o.wc(8),o.Yb(9,"indianNumber"),o.Nb(),o.Ob(10,"td"),o.wc(11),o.Yb(12,"indianNumber"),o.Nb(),o.Ob(13,"td"),o.wc(14),o.Yb(15,"indianNumber"),o.Nb(),o.Ob(16,"td"),o.wc(17),o.Nb(),o.Ob(18,"td"),o.wc(19),o.Nb(),o.Ob(20,"td"),o.wc(21),o.Yb(22,"indianNumber"),o.Nb(),o.Nb()),2&t){const t=i.$implicit,e=i.index;o.xb(2),o.xc(e+1),o.xb(2),o.xc(t.YEAR_VALUE),o.xb(2),o.xc(t.MONTH_DISPLAY),o.xb(2),o.xc(o.Zb(9,9,t.NO_OF_DAYS_POURED)),o.xb(3),o.xc(o.Zb(12,11,t.TOTAL_COW_MILK_LTR)),o.xb(3),o.xc(o.Zb(15,13,t.TOTAL_BUFFALO_MILK_LTR)),o.xb(3),o.yc("",t.AVG_SNF," %"),o.xb(2),o.yc("",t.AVG_FAT," %"),o.xb(2),o.xc(o.Zb(22,15,t.TOTAL_AMOUNT))}}function P(t,i){if(1&t&&(o.Ob(0,"tbody"),o.vc(1,S,23,17,"tr",52),o.Nb()),2&t){const t=o.Xb();o.xb(1),o.ec("ngForOf",t.monthlypouringDetails)}}function R(t,i){if(1&t&&(o.Ob(0,"tbody"),o.Ob(1,"tr"),o.Ob(2,"td"),o.wc(3,"--"),o.Nb(),o.Ob(4,"td"),o.wc(5,"TOTAL"),o.Nb(),o.Ob(6,"td"),o.wc(7,"--"),o.Nb(),o.Ob(8,"td"),o.wc(9),o.Yb(10,"indianNumber"),o.Nb(),o.Ob(11,"td"),o.wc(12),o.Yb(13,"indianNumber"),o.Nb(),o.Ob(14,"td"),o.wc(15),o.Yb(16,"indianNumber"),o.Nb(),o.Ob(17,"td"),o.wc(18),o.Nb(),o.Ob(19,"td"),o.wc(20),o.Nb(),o.Ob(21,"td"),o.wc(22),o.Yb(23,"indianNumber"),o.Nb(),o.Nb(),o.Nb()),2&t){const t=o.Xb();o.xb(9),o.xc(o.Zb(10,6,t.reportTotals.NO_OF_DAYS_POURED)),o.xb(3),o.xc(o.Zb(13,8,t.reportTotals.TOTAL_COW_MILK_LTR)),o.xb(3),o.xc(o.Zb(16,10,t.reportTotals.TOTAL_BUFFALO_MILK_LTR)),o.xb(3),o.xc(t.reportTotals.AVG_SNF),o.xb(2),o.xc(t.reportTotals.AVG_FAT),o.xb(2),o.xc(o.Zb(23,12,t.reportTotals.TOTAL_AMOUNT))}}let T=(()=>{class t{constructor(t,i,e,n,s,a,r,c){this.spinner=t,this.toast=i,this.router=e,this.farmerAPI=n,this.utils=s,this.sanitizer=a,this.logger=r,this.session=c,this.dtOptions=this.utils.dataTableOptions(),this.dtTrigger=new g.a,this.onBankAccUpdate=new o.n,this.monthlypouringReportPopUp=!1,this.inputPlaceHolder="Please Enter Farmer Aadhaar Number",this.BankPassBookPopUp=!1,this.uidNum="",this.frmNum="",this.inputRadio="1",this.monthlypouringDetails=[],this.excelData=[],this.personDetails={ACCOUNT_NUMBER:"",BANKACCNO_UPD:"",BANK_BRANCH:"",BANK_NAME:"",BANK_PINCODE:"",DISTRICT:"",DIST_CODE:"",FARMER_CODE:"",FARMER_NAME:"",IFSC_CODE:"",MANDAL_CODE:"",MANDAL_NAME:"",MICR_CODE:"",MOBILE_NUMBER:"",TOTAL_TIMES_UPDATED:"",PAN_CARD:"",PASSBOOK_IMG:null,NO_OF_MILCH_ANIMALS:"",RBK_CODE:"",RBK_NAME:"",UID_NUM:"",VILLAGE_CODE:"",VILLAGE_NAME:""},this.bankImage="",this.passBookImg="",this.reportTotals={S_NO:"-",YEAR_VALUE:"TOTAL",MONTH_DISPLAY:"-",NO_OF_DAYS_POURED:0,TOTAL_COW_MILK_LTR:0,TOTAL_BUFFALO_MILK_LTR:0,AVG_SNF:"-",AVG_FAT:"-",TOTAL_AMOUNT:0}}ngOnInit(){document.getElementById("uidNum").style.display="block",document.getElementById("frmNum").style.display="none",""!=this.session.uniqueId&&""!=this.session.desigId||this.router.navigate(["/shared/UnAuthorized"])}onSelectionChange(){"1"===this.inputRadio?(this.inputPlaceHolder="Please Enter Farmer Aadhaar Number",this.clearInputs(),document.getElementById("uidNum").style.display="block",document.getElementById("frmNum").style.display="none"):"2"===this.inputRadio?(this.clearInputs(),document.getElementById("uidNum").style.display="none",document.getElementById("frmNum").style.display="block",this.inputPlaceHolder="Please Enter Farmer Code"):(this.clearInputs(),document.getElementById("frmNum").style.display="block",document.getElementById("uidNum").style.display="none",this.inputPlaceHolder="Please Enter Farmer Bank Account Number")}clearInputs(){this.uidNum="",this.personDetails={ACCOUNT_NUMBER:"",BANKACCNO_UPD:"",BANK_BRANCH:"",BANK_NAME:"",BANK_PINCODE:"",DISTRICT:"",DIST_CODE:"",FARMER_CODE:"",FARMER_NAME:"",IFSC_CODE:"",MANDAL_CODE:"",MANDAL_NAME:"",MICR_CODE:"",MOBILE_NUMBER:"",TOTAL_TIMES_UPDATED:"",PAN_CARD:"",PASSBOOK_IMG:null,NO_OF_MILCH_ANIMALS:"",RBK_CODE:"",RBK_NAME:"",UID_NUM:"",VILLAGE_CODE:"",VILLAGE_NAME:""}}btnUidDetails(){return Object(N.a)(this,void 0,void 0,(function*(){try{if(this.personDetails={ACCOUNT_NUMBER:"",BANKACCNO_UPD:"",BANK_BRANCH:"",BANK_NAME:"",BANK_PINCODE:"",DISTRICT:"",DIST_CODE:"",FARMER_CODE:"",FARMER_NAME:"",IFSC_CODE:"",MANDAL_CODE:"",MANDAL_NAME:"",MICR_CODE:"",MOBILE_NUMBER:"",TOTAL_TIMES_UPDATED:"",PAN_CARD:"",PASSBOOK_IMG:null,NO_OF_MILCH_ANIMALS:"",RBK_CODE:"",RBK_NAME:"",UID_NUM:"",VILLAGE_CODE:"",VILLAGE_NAME:""},null==this.inputRadio||""===this.inputRadio)return void this.toast.warning("Please Select Aadhaar Number / Farmer Code / Bank Account No");if("1"===this.inputRadio){if(null==this.uidNum||""===this.uidNum)return void this.toast.warning("Please Enter Farmer Aadhar Number");if(!this.utils.validateVerhoeff(this.uidNum))return void this.toast.warning("Please Enter Valid Aadhaar Number")}if("2"===this.inputRadio){if(null==this.uidNum||""===this.uidNum)return void this.toast.warning("Please Enter Farmer Code");if(8!==this.uidNum.length)return void this.toast.warning("Please Enter Valid Farmer Code")}if("3"===this.inputRadio&&(null==this.uidNum||""===this.uidNum))return void this.toast.warning("Please Enter Bank Account No");const t={accountNo:this.uidNum};this.spinner.show();const i=yield this.farmerAPI.regFarmerDetailsByUid(t);i.success?(this.personDetails=i.result[0],null!=this.personDetails.PASSBOOK_IMG&&""!==this.personDetails.PASSBOOK_IMG&&this.loadBankImage(this.personDetails.PASSBOOK_IMG),null===this.personDetails.PASSBOOK_IMG&&(this.BankPassBookPopUp=!0)):this.toast.info(i.message),this.spinner.hide()}catch(t){this.spinner.hide(),this.utils.catchResponse(t)}}))}loadBankImage(t){return Object(N.a)(this,void 0,void 0,(function*(){try{this.spinner.show();const i=yield this.utils.DMSFileDownload(t);i.success?this.bankImage=this.sanitizer.bypassSecurityTrustResourceUrl(i.result).changingThisBreaksApplicationSecurity:(this.spinner.hide(),this.toast.info(i.message))}catch(i){this.spinner.hide(),this.utils.catchResponse(i)}}))}btnImage(t){this.utils.viewImage(t)}onPassBookImageChange(t){return Object(N.a)(this,void 0,void 0,(function*(){try{const i=yield this.utils.encodedString(t,this.utils.fileType.IMAGE,this.utils.fileSize.hundredKB);i&&(this.passBookImg=i.replace("data:image/jpeg;base64,",""))}catch(i){this.utils.catchResponse(i)}}))}btnImageUpdate(){return Object(N.a)(this,void 0,void 0,(function*(){try{if(null==this.passBookImg||""===this.passBookImg)return void this.toast.warning("Please Upload Bank PassBook Image");const t={uidNum:this.personDetails.UID_NUM,passBookImg:this.passBookImg,insertedBy:this.session.userName,districtId:this.personDetails.DIST_CODE,mandalId:this.personDetails.MANDAL_CODE,rbkId:this.personDetails.RBK_CODE,villageId:this.personDetails.VILLAGE_CODE};this.spinner.show();const i=yield this.farmerAPI.farmerBankPassbookUpdate(t);i.success?(alert(i.message),window.location.reload()):(this.spinner.hide(),this.toast.info(i.message))}catch(t){this.spinner.hide(),this.utils.catchResponse(t)}}))}btnMonthlyPouringDetails(){this.loadReport()}loadReport(){return Object(N.a)(this,void 0,void 0,(function*(){try{const t={accountNo:this.uidNum};this.spinner.show();const i=yield this.farmerAPI.milkPouringStatusReport(t);if(this.spinner.hide(),this.monthlypouringDetails=[],i.success){this.excelData=[],this.monthlypouringDetails=i.result,console.log(this.monthlypouringDetails);for(let t=0;t<this.monthlypouringDetails.length;t++)this.reportTotals.NO_OF_DAYS_POURED+=parseInt(this.monthlypouringDetails[t].NO_OF_DAYS_POURED),this.reportTotals.TOTAL_COW_MILK_LTR+=parseFloat(this.monthlypouringDetails[t].TOTAL_COW_MILK_LTR),this.reportTotals.TOTAL_BUFFALO_MILK_LTR+=parseFloat(this.monthlypouringDetails[t].TOTAL_BUFFALO_MILK_LTR),this.reportTotals.TOTAL_AMOUNT+=parseFloat(this.monthlypouringDetails[t].TOTAL_AMOUNT),this.excelData.push({S_NO:t+1,YEAR_VALUE:this.monthlypouringDetails[t].YEAR_VALUE,MONTH_DISPLAY:this.monthlypouringDetails[t].MONTH_DISPLAY,NO_OF_DAYS_POURED:this.monthlypouringDetails[t].NO_OF_DAYS_POURED,TOTAL_COW_MILK_LTR:this.monthlypouringDetails[t].TOTAL_COW_MILK_LTR,TOTAL_BUFFALO_MILK_LTR:this.monthlypouringDetails[t].TOTAL_BUFFALO_MILK_LTR,AVG_SNF:this.monthlypouringDetails[t].AVG_SNF,AVG_FAT:this.monthlypouringDetails[t].AVG_FAT,TOTAL_AMOUNT:this.monthlypouringDetails[t].TOTAL_AMOUNT});this.excelData.push(this.reportTotals)}else this.toast.info(i.message);this.monthlypouringReportPopUp=!0,this.rerender()}catch(t){this.spinner.hide(),this.utils.catchResponse(t)}}))}btnExcel(){this.utils.JSONToCSVConvertor(this.excelData,"Monthly Milk Pouring Report",!0)}ngOnDestroy(){this.dtTrigger.unsubscribe()}ngAfterViewInit(){this.dtTrigger.next()}rerender(){this.dtElement.dtInstance.then(t=>{t.destroy(),this.dtTrigger.next()})}uidNummaskIputData(t){if(t.length>0&&t.length>=12)return this.uidNum=t,1==this.utils.validateVerhoeff(t)||(this.uidNum="",alert("Invalid Aadhar Number...!")),void this.spinner.hide()}}return t.\u0275fac=function(i){return new(i||t)(o.Jb(r.c),o.Jb(d.a),o.Jb(s.c),o.Jb(f.a),o.Jb(b.a),o.Jb(I.b),o.Jb(D.a),o.Jb(c.a))},t.\u0275cmp=o.Db({type:t,selectors:[["app-register-farmer-status"]],viewQuery:function(t,i){var e;1&t&&(o.Bc(O.a,!0),o.Bc(y,!0)),2&t&&(o.mc(e=o.Wb())&&(i.dtElement=e.first),o.mc(e=o.Wb())&&(i.passBookImgUpload=e.first))},outputs:{onBankAccUpdate:"onBankAccUpdate"},decls:68,vars:20,consts:[[1,"card"],[1,"card-header","p-2"],[1,"mb-0"],[1,"card-body"],[1,"row"],["align","right",1,"col-md-12"],["type","button","class","btn btn-primary btn-sm",3,"click",4,"ngIf"],[1,"col-md-5","offset-3"],[1,"form-group"],[1,"ah-radio-buttons",3,"change"],[1,"custom-control","custom-radio","custom-control-inline"],["type","radio","name","inputRadio","id","inputRadio1","value","1",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","inputRadio1",1,"custom-control-label"],["type","radio","name","inputRadio","id","inputRadio2","value","2",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","inputRadio2",1,"custom-control-label"],["type","radio","name","inputRadio","id","inputRadio3","value","3",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","inputRadio3",1,"custom-control-label"],["id","uidNum","type","password","maxlength","12","autocomplete","off","NumbersOnly","",1,"form-control",3,"ngModel","placeholder","allowDecimals","allowSign","ngModelChange","keyup"],["id","uidNum","type","text","maxlength","15","autocomplete","off","NumbersOnly","",1,"form-control",3,"ngModel","placeholder","allowDecimals","allowSign","ngModelChange"],["align","left",1,"col-md-3","pt-4"],["type","button",1,"btn","btn-success","btn-sm",3,"click"],[4,"ngIf"],["class","popup-modal",4,"ngIf"],[1,"popup-modal",3,"hidden"],[1,"popup-content",2,"min-width","75%"],[1,"popup-header"],[1,"title"],["type","button",1,"close",2,"cursor","pointer",3,"click"],[1,"popup-body"],[1,"row","justify-content-center","align-items-center"],[1,"col-md-12"],["type","button",1,"btn","btn-success","btn-sm","pull-right",3,"click"],["aria-hidden","true",1,"fa","fa-file-excel-o","mr-2"],[1,"col-md-12","table-responsive",3,"hidden"],["datatable","",1,"table","table-striped","ah-table","text-center",3,"dtOptions","dtTrigger"],[1,"bg-success","text-white"],["type","button",1,"btn","btn-primary","btn-sm",3,"click"],[1,"sub-heading","pb-0"],[1,"row","px-4"],[1,"col-md-3"],[1,"text-success"],["class","col-md-3",4,"ngIf"],[1,"img-thumbnail","mr-3",2,"cursor","pointer",3,"src","click"],[1,"popup-modal"],[1,"popup-content"],["for","passBookImgUpload"],[2,"color","red"],["type","file","id","passBookImgUpload","accept","image/*","autocomplete","off",1,"form-control","p-0",3,"change"],["passBookImgUpload",""],[1,"popup-footer","justify-content-center"],["type","button",1,"btn","btn-outline-success","btn-sm","btn-rounded",3,"click"],["type","button",1,"btn","btn-outline-danger","btn-sm","btn-rounded",3,"click"],[4,"ngFor","ngForOf"]],template:function(t,i){1&t&&(o.Ob(0,"div",0),o.Ob(1,"div",1),o.Ob(2,"h5",2),o.wc(3,"FARMER REGISTRATION STATUS"),o.Nb(),o.Nb(),o.Ob(4,"div",3),o.Ob(5,"div",4),o.Ob(6,"div",5),o.vc(7,E,2,0,"button",6),o.Nb(),o.Ob(8,"div",7),o.Ob(9,"div",8),o.Ob(10,"div",9),o.Vb("change",(function(){return i.onSelectionChange()})),o.Ob(11,"div",10),o.Ob(12,"input",11),o.Vb("ngModelChange",(function(t){return i.inputRadio=t})),o.Nb(),o.Ob(13,"label",12),o.wc(14," AADHAAR NUMBER "),o.Nb(),o.Nb(),o.Ob(15,"div",10),o.Ob(16,"input",13),o.Vb("ngModelChange",(function(t){return i.inputRadio=t})),o.Nb(),o.Ob(17,"label",14),o.wc(18," FARMER CODE "),o.Nb(),o.Nb(),o.Ob(19,"div",10),o.Ob(20,"input",15),o.Vb("ngModelChange",(function(t){return i.inputRadio=t})),o.Nb(),o.Ob(21,"label",16),o.wc(22," BANK ACCOUNT NO "),o.Nb(),o.Nb(),o.Nb(),o.Ob(23,"input",17),o.Vb("ngModelChange",(function(t){return i.uidNum=t}))("keyup",(function(t){return i.uidNummaskIputData(t.target.value)})),o.Nb(),o.Ob(24,"input",18),o.Vb("ngModelChange",(function(t){return i.uidNum=t})),o.Nb(),o.Nb(),o.Nb(),o.Ob(25,"div",19),o.Ob(26,"button",20),o.Vb("click",(function(){return i.btnUidDetails()})),o.wc(27," CHECK STATUS "),o.Nb(),o.Nb(),o.Nb(),o.vc(28,k,162,23,"div",21),o.Nb(),o.Nb(),o.vc(29,L,23,0,"div",22),o.Ob(30,"div",23),o.Ob(31,"div",24),o.Ob(32,"div",25),o.Ob(33,"h4",26),o.wc(34,"MONTHLY MILK POURING REPORT"),o.Nb(),o.Ob(35,"a",27),o.Vb("click",(function(){return i.monthlypouringReportPopUp=!1})),o.Ob(36,"span"),o.wc(37,"\xd7"),o.Nb(),o.Nb(),o.Nb(),o.Ob(38,"div",28),o.Ob(39,"div",29),o.Ob(40,"div",30),o.Ob(41,"button",31),o.Vb("click",(function(){return i.btnExcel()})),o.Kb(42,"i",32),o.wc(43," DOWNLOAD EXCEL "),o.Nb(),o.Nb(),o.Ob(44,"div",33),o.Ob(45,"table",34),o.Ob(46,"thead",35),o.Ob(47,"tr"),o.Ob(48,"th"),o.wc(49,"S.No."),o.Nb(),o.Ob(50,"th"),o.wc(51,"YEAR"),o.Nb(),o.Ob(52,"th"),o.wc(53,"MONTH"),o.Nb(),o.Ob(54,"th"),o.wc(55,"NO OF DAYS MILK POURED"),o.Nb(),o.Ob(56,"th"),o.wc(57,"COW MILK IN LITERS"),o.Nb(),o.Ob(58,"th"),o.wc(59,"BUFFALO MILK IN LITERS"),o.Nb(),o.Ob(60,"th"),o.wc(61,"AVG SNF"),o.Nb(),o.Ob(62,"th"),o.wc(63,"AVG FAT"),o.Nb(),o.Ob(64,"th"),o.wc(65,"TOTAL AMOUNT"),o.Nb(),o.Nb(),o.Nb(),o.vc(66,P,2,1,"tbody",21),o.vc(67,R,24,14,"tbody",21),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Nb()),2&t&&(o.xb(7),o.ec("ngIf",null!==i.personDetails.UID_NUM&&""!==i.personDetails.UID_NUM&&void 0!==i.personDetails.UID_NUM),o.xb(5),o.ec("ngModel",i.inputRadio),o.xb(4),o.ec("ngModel",i.inputRadio),o.xb(4),o.ec("ngModel",i.inputRadio),o.xb(3),o.fc("placeholder",i.inputPlaceHolder),o.ec("ngModel",i.uidNum)("allowDecimals",!1)("allowSign",!1),o.xb(1),o.fc("placeholder",i.inputPlaceHolder),o.ec("ngModel",i.uidNum)("allowDecimals",!1)("allowSign",!1),o.xb(4),o.ec("ngIf",null!==i.personDetails.UID_NUM&&""!==i.personDetails.UID_NUM&&void 0!==i.personDetails.UID_NUM),o.xb(1),o.ec("ngIf",i.BankPassBookPopUp),o.xb(1),o.ec("hidden",!i.monthlypouringReportPopUp),o.xb(14),o.ec("hidden",(null==i.monthlypouringDetails?null:i.monthlypouringDetails.length)<1),o.xb(1),o.ec("dtOptions",i.dtOptions)("dtTrigger",i.dtTrigger),o.xb(21),o.ec("ngIf",(null==i.monthlypouringDetails?null:i.monthlypouringDetails.length)>0),o.xb(1),o.ec("ngIf",(null==i.monthlypouringDetails?null:i.monthlypouringDetails.length)>0))},directives:[n.m,v.m,v.b,v.h,v.i,v.d,A.a,O.a,n.l],pipes:[w.a],styles:[""]}),t})();var x=e("7o2P");const _=["bankPassBookUpload"];function F(t,i){if(1&t&&(o.Ob(0,"option",39),o.wc(1),o.Nb()),2&t){const t=i.$implicit;o.fc("value",t.MANDAL_ID),o.xb(1),o.yc(" ",t.MANDAL_NAME," ")}}function B(t,i){if(1&t&&(o.Ob(0,"option",39),o.wc(1),o.Nb()),2&t){const t=i.$implicit;o.fc("value",t.RBK_ID),o.xb(1),o.yc(" ",t.RBK_NAME," ")}}function U(t,i){if(1&t&&(o.Ob(0,"option",39),o.wc(1),o.Nb()),2&t){const t=i.$implicit;o.fc("value",t.VILLAGE_ID),o.xb(1),o.yc(" ",t.VILLAGE_NAME," ")}}function V(t,i){if(1&t&&(o.Ob(0,"h6",29),o.Ob(1,"b"),o.wc(2),o.Nb(),o.Nb()),2&t){const t=o.Xb();o.xb(2),o.xc(t.personDetails.citizenName)}}function K(t,i){if(1&t){const t=o.Pb();o.Ob(0,"input",40),o.Vb("ngModelChange",(function(i){return o.oc(t),o.Xb().personDetails.citizenName=i})),o.Nb()}if(2&t){const t=o.Xb();o.ec("ngModel",t.personDetails.citizenName)}}function G(t,i){if(1&t&&(o.Ob(0,"h6",29),o.Ob(1,"b"),o.wc(2),o.Nb(),o.Nb()),2&t){const t=o.Xb();o.xb(2),o.xc(t.personDetails.ifscCode)}}function j(t,i){if(1&t){const t=o.Pb();o.Ob(0,"div",41),o.Ob(1,"input",42),o.Vb("ngModelChange",(function(i){return o.oc(t),o.Xb().personDetails.ifscCode=i})),o.Nb(),o.Ob(2,"div",43),o.Ob(3,"button",44),o.Vb("click",(function(){return o.oc(t),o.Xb().btnVerifyIfscCode()})),o.wc(4," Verify "),o.Nb(),o.Nb(),o.Nb()}if(2&t){const t=o.Xb();o.xb(1),o.ec("ngModel",t.personDetails.ifscCode)}}let J=(()=>{class t{constructor(t,i,e,n,s,a,o,r){this.spinner=t,this.toast=i,this.router=e,this.farmerAPI=n,this.utils=s,this.logger=a,this.session=o,this.commonAPI=r,this.mandalList=[],this.rbkList=[],this.villageList=[],this.bankAccLength="",this.personDetails={districtId:"",mandalId:"",uidNum:"",rbkId:"",villageId:"",citizenName:"",mobileNum:"",ifscCode:"",bankName:"",branchName:"",accountNo:"",micrNo:"",panNo:"",bankPinCode:"",passBookImg:"",insertedBy:"",source:"web"},this.serviceChecker={citizenName:"2",mobileNum:"2",ifscCode:"2",accountNo:"2",panNo:"2",bankPinCode:"2"}}ngOnInit(){""!=this.session.uniqueId&&""!=this.session.desigId||this.router.navigate(["/shared/UnAuthorized"]),this.loadMandalList()}uidNummaskIputData(t){if(t.length>0&&t.length>=12)return this.personDetails.uidNum=t,1==this.utils.validateVerhoeff(t)||(this.personDetails.uidNum="",alert("Invalid Aadhar Number...!")),void this.spinner.hide()}loadMandalList(){return Object(N.a)(this,void 0,void 0,(function*(){try{const t={districtId:this.session.districtId};this.spinner.show();const i=yield this.commonAPI.mandalListByDistrictId(t);this.spinner.hide(),i.success?this.mandalList=i.result:this.toast.info(i.message)}catch(t){this.spinner.hide(),this.utils.catchResponse(t)}}))}onMandalChange(){return Object(N.a)(this,void 0,void 0,(function*(){try{if(this.rbkList=[],this.personDetails.rbkId="",this.personDetails.villageId="",this.personDetails.uidNum="",this.utils.isEmpty(this.personDetails.mandalId))return;const t={districtId:this.session.districtId,mandalId:this.personDetails.mandalId};this.spinner.show();const i=yield this.commonAPI.rbkListByMandalId(t);this.spinner.hide(),i.success?this.rbkList=i.result:this.toast.info(i.message)}catch(t){this.spinner.hide(),this.utils.catchResponse(t)}}))}onRbkChange(){return Object(N.a)(this,void 0,void 0,(function*(){try{if(this.personDetails.villageId="",this.personDetails.uidNum="",this.villageList=[],""===this.personDetails.rbkId)return;const t={districtId:this.session.districtId,rbkId:this.personDetails.rbkId,uniqueId:"1"};this.villageList=[],this.spinner.show();const i=yield this.farmerAPI.villageListByRbkId(t);i.success?this.villageList=i.result:this.toast.info(i.message),this.spinner.hide()}catch(t){this.spinner.hide(),this.utils.catchResponse(t)}}))}btnSearchByUid(){return Object(N.a)(this,void 0,void 0,(function*(){try{if(this.farmerDetails=[],this.clearFields(),""===this.personDetails.mandalId||null==this.personDetails.mandalId)return void this.toast.warning("Please Select Mandal");if(""===this.personDetails.rbkId||null==this.personDetails.rbkId)return void this.toast.warning("Please Select RSK");if(""===this.personDetails.villageId||null==this.personDetails.villageId)return void this.toast.warning("Please Select Village");if(""===this.personDetails.uidNum||null==this.personDetails.uidNum)return void this.toast.warning("Please Enter Aadhaar Number");if(!this.utils.validateVerhoeff(this.personDetails.uidNum))return void this.toast.warning("Please Enter Valid Aadhaar Number");const t={uidNum:this.personDetails.uidNum};this.spinner.show();const i=yield this.farmerAPI.farmerDetailsByUid(t);this.spinner.hide(),i.success?(this.farmerDetails=i.result,null!==this.farmerDetails[0].ACCOUNT_NUMBER&&""!==this.farmerDetails[0].ACCOUNT_NUMBER&&(this.personDetails.accountNo=this.farmerDetails[0].ACCOUNT_NUMBER),null!==this.farmerDetails[0].MOBILE_NUMBER&&""!==this.farmerDetails[0].MOBILE_NUMBER&&(this.serviceChecker.mobileNum="1",this.personDetails.mobileNum=this.farmerDetails[0].MOBILE_NUMBER),null!==this.farmerDetails[0].CITIZEN_NAME&&""!==this.farmerDetails[0].CITIZEN_NAME&&(this.serviceChecker.citizenName="1",this.personDetails.citizenName=this.farmerDetails[0].CITIZEN_NAME),null!==this.farmerDetails[0].IFSC_CODE&&""!==this.farmerDetails[0].IFSC_CODE&&(this.serviceChecker.ifscCode="1",this.personDetails.ifscCode=this.farmerDetails[0].IFSC_CODE,this.btnVerifyIfscCode())):this.toast.info(i.message)}catch(t){this.spinner.hide(),this.utils.catchResponse(t)}}))}clearFields(){this.personDetails={uidNum:this.personDetails.uidNum,districtId:this.session.districtId,mandalId:this.personDetails.mandalId,rbkId:this.personDetails.rbkId,villageId:this.personDetails.villageId,citizenName:"",mobileNum:"",ifscCode:"",bankName:"",branchName:"",accountNo:"",micrNo:"",panNo:"",bankPinCode:"",passBookImg:"",insertedBy:"",source:"web"},this.bankPassBookUpload.nativeElement.value="",this.serviceChecker={citizenName:"2",mobileNum:"2",ifscCode:"2",accountNo:"2",panNo:"2",bankPinCode:"2"}}btnVerifyIfscCode(){return Object(N.a)(this,void 0,void 0,(function*(){try{if(""===this.personDetails.accountNo||null==this.personDetails.accountNo)return void this.toast.warning("Please Enter Bank Account Number");if(""===this.personDetails.ifscCode||null==this.personDetails.ifscCode)return void this.toast.warning("Please Select IFSC CODE");const t={ifscCode:this.personDetails.ifscCode};this.spinner.show();const i=yield this.farmerAPI.searchByIFSC(t);if(this.spinner.hide(),i.success){let t=0;for(let e=0;e<i.result.length;e++)if(this.personDetails.accountNo.length.toString()===i.result[e].ACCOUNTLENGTH){this.personDetails.bankName=i.result[e].BANK,this.personDetails.branchName=i.result[e].BRANCH,this.bankAccLength=i.result[e].ACCOUNTLENGTH,this.personDetails.micrNo=i.result[e].MICR_CODE,t++;break}t<1&&this.toast.info("Invalid bank account number for entered IFSC Code")}else this.toast.info(i.message)}catch(t){this.spinner.hide(),this.utils.catchResponse(t)}}))}btnSubmit(){return Object(N.a)(this,void 0,void 0,(function*(){try{if(this.validate()){this.personDetails.districtId=this.session.districtId,this.personDetails.insertedBy=this.session.userName,this.personDetails.source="web",this.spinner.show();const t=yield this.farmerAPI.farmerSub(this.personDetails);t.success?(alert(t.message),window.location.reload()):(this.spinner.hide(),this.toast.info(t.message))}}catch(t){this.spinner.hide(),this.utils.catchResponse(t)}}))}validate(){if(""!==this.personDetails.mandalId&&null!=this.personDetails.mandalId)return""===this.personDetails.rbkId||null==this.personDetails.rbkId?(this.toast.warning("Please Select RSK"),!1):""===this.personDetails.villageId||null==this.personDetails.villageId?(this.toast.warning("Please Select Village"),!1):""===this.personDetails.uidNum||null==this.personDetails.uidNum?(this.toast.warning("Please Enter Aadhaar Number"),!1):this.utils.validateVerhoeff(this.personDetails.uidNum)?""===this.personDetails.citizenName||null==this.personDetails.citizenName?(this.toast.warning("Please Enter Citizen Name"),!1):""===this.personDetails.mobileNum||null==this.personDetails.mobileNum?(this.toast.warning("Please Enter Mobile Number"),!1):this.utils.mobileNumCheck(this.personDetails.mobileNum)?""===this.personDetails.accountNo||null==this.personDetails.accountNo?(this.toast.warning("Please Enter Bank Account Number"),!1):""===this.personDetails.ifscCode||null==this.personDetails.ifscCode?(this.toast.warning("Please Select IFSC CODE"),!1):""===this.personDetails.bankName||null==this.personDetails.bankName||""===this.personDetails.branchName||null==this.personDetails.branchName||""===this.personDetails.micrNo||null==this.personDetails.micrNo?(this.toast.warning("Please Enter Valid IFSC CODE"),!1):""===this.personDetails.panNo||null==this.personDetails.panNo||this.utils.panCardNoCheck(this.personDetails.panNo)?""===this.personDetails.bankPinCode||null==this.personDetails.bankPinCode?(this.toast.warning("Please Enter Bank Account PINCODE"),!1):this.utils.pinCodeCheck(this.personDetails.bankPinCode)?""!==this.personDetails.passBookImg&&null!=this.personDetails.passBookImg||(this.toast.warning("Please Upload Bank PassBook Front Page Photo "),!1):(this.toast.warning("Please Enter Valid PINCODE"),!1):(this.toast.warning("Please Enter Valid PANCARD Number"),!1):(this.toast.warning("Please Enter Valid Mobile Number"),!1):(this.toast.warning("Please Enter Valid Aadhaar Number"),!1);this.toast.warning("Please Select Mandal")}onBankPassBookChange(t){return Object(N.a)(this,void 0,void 0,(function*(){try{const i=yield this.utils.encodedString(t,this.utils.fileType.IMAGE,this.utils.fileSize.twoHundredKB);i&&(this.personDetails.passBookImg=i.replace("data:image/jpeg;base64,",""))}catch(i){this.utils.catchResponse(i)}}))}}return t.\u0275fac=function(i){return new(i||t)(o.Jb(r.c),o.Jb(d.a),o.Jb(s.c),o.Jb(f.a),o.Jb(b.a),o.Jb(D.a),o.Jb(c.a),o.Jb(x.a))},t.\u0275cmp=o.Db({type:t,selectors:[["app-register-farmer"]],viewQuery:function(t,i){var e;1&t&&o.Bc(_,!0),2&t&&o.mc(e=o.Wb())&&(i.bankPassBookUpload=e.first)},decls:118,vars:25,consts:[[1,"card"],[1,"card-header","p-2"],[1,"mb-0"],[1,"card-body"],[1,"row"],[1,"col-md-4"],[1,"form-group"],["for","mandalId"],[2,"color","red"],["id","mandalId",1,"form-control",3,"ngModel","ngModelChange","change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","rbkId"],["id","rbkId",1,"form-control",3,"ngModel","ngModelChange","change"],["for","villageId"],["id","villageId",1,"form-control",3,"ngModel","ngModelChange"],["for","uidNum"],["id","uidNum","type","password","placeholder","Please Enter Aadhaar Number","maxlength","12","autocomplete","off","NumbersOnly","",1,"form-control",3,"ngModel","allowDecimals","allowSign","ngModelChange","keyup"],[1,"col-md-4","pt-4"],["type","button",1,"btn","btn-success","btn-sm",3,"click"],["for","citizenName"],["style","color: green",4,"ngIf"],["id","citizenName","type","text","class","form-control","placeholder","Please Enter Citizen Name","maxlength","50","autocomplete","off",3,"ngModel","ngModelChange",4,"ngIf"],["for","mobileNum"],["id","mobileNum","type","text","placeholder","Please Enter Mobile Number","maxlength","10","autocomplete","off","NumbersOnly","",1,"form-control",3,"ngModel","allowDecimals","allowSign","ngModelChange"],["for","accountNo"],["id","accountNo","type","text","placeholder","Please Enter BANK ACCOUNT NUMBER","maxlength","20","autocomplete","off","NumbersOnly","",1,"form-control",3,"ngModel","allowDecimals","allowSign","ngModelChange"],["class","input-group",4,"ngIf"],["for","bankName"],[2,"color","green"],["for","branchName"],["for","panNo"],["id","panNo","type","text","placeholder","Please Enter PAN CARD NUMBER","maxlength","11","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["for","bankPinCode"],["id","bankPinCode","type","text","placeholder","Please Enter BANK PINCODE","maxlength","6","autocomplete","off","NumbersOnly","",1,"form-control",3,"ngModel","allowDecimals","allowSign","ngModelChange"],["for","bankPassBookUpload"],["type","file","id","bankPassBookUpload","accept","image/*","autocomplete","off",1,"form-control","p-0",3,"change"],["bankPassBookUpload",""],["align","center",1,"col-md-12"],[3,"value"],["id","citizenName","type","text","placeholder","Please Enter Citizen Name","maxlength","50","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group"],["type","text","placeholder","Please Enter IFSC Code","maxlength","15","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group-append"],["type","submit","id","button-addon2",1,"btn","btn-primary","btn-sm","m-0","btn-rounded",3,"click"]],template:function(t,i){1&t&&(o.Ob(0,"div",0),o.Ob(1,"div",1),o.Ob(2,"h5",2),o.wc(3,"FARMER BANK DETAILS REGISTRATION"),o.Nb(),o.Nb(),o.Ob(4,"div",3),o.Ob(5,"div",4),o.Ob(6,"div",5),o.Ob(7,"div",6),o.Ob(8,"label",7),o.wc(9,"MANDAL "),o.Ob(10,"span",8),o.wc(11,"*"),o.Nb(),o.Nb(),o.Ob(12,"select",9),o.Vb("ngModelChange",(function(t){return i.personDetails.mandalId=t}))("change",(function(){return i.onMandalChange()})),o.Ob(13,"option",10),o.wc(14,"-- SELECT MANDAL --"),o.Nb(),o.vc(15,F,2,2,"option",11),o.Nb(),o.Nb(),o.Nb(),o.Ob(16,"div",5),o.Ob(17,"div",6),o.Ob(18,"label",12),o.wc(19,"RSK "),o.Ob(20,"span",8),o.wc(21,"*"),o.Nb(),o.Nb(),o.Ob(22,"select",13),o.Vb("ngModelChange",(function(t){return i.personDetails.rbkId=t}))("change",(function(){return i.onRbkChange()})),o.Ob(23,"option",10),o.wc(24,"-- SELECT RSK --"),o.Nb(),o.vc(25,B,2,2,"option",11),o.Nb(),o.Nb(),o.Nb(),o.Ob(26,"div",5),o.Ob(27,"div",6),o.Ob(28,"label",14),o.wc(29,"VILLAGE "),o.Ob(30,"span",8),o.wc(31,"*"),o.Nb(),o.Nb(),o.Ob(32,"select",15),o.Vb("ngModelChange",(function(t){return i.personDetails.villageId=t})),o.Ob(33,"option",10),o.wc(34,"-- SELECT VILLAGE --"),o.Nb(),o.vc(35,U,2,2,"option",11),o.Nb(),o.Nb(),o.Nb(),o.Ob(36,"div",5),o.Ob(37,"div",6),o.Ob(38,"label",16),o.wc(39,"AADHAAR NUMBER "),o.Ob(40,"span",8),o.wc(41,"*"),o.Nb(),o.Nb(),o.Ob(42,"input",17),o.Vb("ngModelChange",(function(t){return i.personDetails.uidNum=t}))("keyup",(function(t){return i.uidNummaskIputData(t.target.value)})),o.Nb(),o.Nb(),o.Nb(),o.Ob(43,"div",18),o.Ob(44,"div",6),o.Ob(45,"button",19),o.Vb("click",(function(){return i.btnSearchByUid()})),o.wc(46," SEARCH "),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Kb(47,"hr"),o.Ob(48,"div",4),o.Ob(49,"div",5),o.Ob(50,"div",6),o.Ob(51,"label",20),o.wc(52," CITIZEN NAME "),o.Ob(53,"span",8),o.wc(54,"*"),o.Nb(),o.Nb(),o.vc(55,V,3,1,"h6",21),o.vc(56,K,1,1,"input",22),o.Nb(),o.Nb(),o.Ob(57,"div",5),o.Ob(58,"div",6),o.Ob(59,"label",23),o.wc(60,"MOBILE NUMBER "),o.Ob(61,"span",8),o.wc(62,"*"),o.Nb(),o.Nb(),o.Ob(63,"input",24),o.Vb("ngModelChange",(function(t){return i.personDetails.mobileNum=t})),o.Nb(),o.Nb(),o.Nb(),o.Ob(64,"div",5),o.Ob(65,"div",6),o.Ob(66,"label",25),o.wc(67,"BANK ACCOUNT NUMBER "),o.Ob(68,"span",8),o.wc(69,"*"),o.Nb(),o.Nb(),o.Ob(70,"input",26),o.Vb("ngModelChange",(function(t){return i.personDetails.accountNo=t})),o.Nb(),o.Nb(),o.Nb(),o.Ob(71,"div",5),o.Ob(72,"div",6),o.Ob(73,"label"),o.wc(74,"IFSC CODE"),o.Nb(),o.vc(75,G,3,1,"h6",21),o.vc(76,j,5,1,"div",27),o.Nb(),o.Nb(),o.Ob(77,"div",5),o.Ob(78,"div",6),o.Ob(79,"label",28),o.wc(80,"BANK NAME "),o.Ob(81,"span",8),o.wc(82,"*"),o.Nb(),o.Nb(),o.Ob(83,"h6",29),o.Ob(84,"b"),o.wc(85),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Ob(86,"div",5),o.Ob(87,"div",6),o.Ob(88,"label",30),o.wc(89,"BRANCH NAME "),o.Ob(90,"span",8),o.wc(91,"*"),o.Nb(),o.Nb(),o.Ob(92,"h6",29),o.Ob(93,"b"),o.wc(94),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Ob(95,"div",5),o.Ob(96,"div",6),o.Ob(97,"label",31),o.wc(98,"PAN CARD NUMBER"),o.Nb(),o.Ob(99,"input",32),o.Vb("ngModelChange",(function(t){return i.personDetails.panNo=t})),o.Nb(),o.Nb(),o.Nb(),o.Ob(100,"div",5),o.Ob(101,"div",6),o.Ob(102,"label",33),o.wc(103,"BANK PINCODE "),o.Ob(104,"span",8),o.wc(105,"*"),o.Nb(),o.Nb(),o.Ob(106,"input",34),o.Vb("ngModelChange",(function(t){return i.personDetails.bankPinCode=t})),o.Nb(),o.Nb(),o.Nb(),o.Ob(107,"div",5),o.Ob(108,"div",6),o.Ob(109,"label",35),o.wc(110,"Bank PassBook Front Page Photo Upload "),o.Ob(111,"span",8),o.wc(112,"*"),o.Nb(),o.Nb(),o.Ob(113,"input",36,37),o.Vb("change",(function(t){return i.onBankPassBookChange(t)})),o.Nb(),o.Nb(),o.Nb(),o.Ob(115,"div",38),o.Ob(116,"button",19),o.Vb("click",(function(){return i.btnSubmit()})),o.wc(117," SUBMIT "),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Nb()),2&t&&(o.xb(12),o.ec("ngModel",i.personDetails.mandalId),o.xb(3),o.ec("ngForOf",i.mandalList),o.xb(7),o.ec("ngModel",i.personDetails.rbkId),o.xb(3),o.ec("ngForOf",i.rbkList),o.xb(7),o.ec("ngModel",i.personDetails.villageId),o.xb(3),o.ec("ngForOf",i.villageList),o.xb(7),o.ec("ngModel",i.personDetails.uidNum)("allowDecimals",!1)("allowSign",!1),o.xb(13),o.ec("ngIf","1"===i.serviceChecker.citizenName),o.xb(1),o.ec("ngIf","2"===i.serviceChecker.citizenName),o.xb(7),o.ec("ngModel",i.personDetails.mobileNum)("allowDecimals",!1)("allowSign",!1),o.xb(7),o.ec("ngModel",i.personDetails.accountNo)("allowDecimals",!1)("allowSign",!1),o.xb(5),o.ec("ngIf","1"===i.serviceChecker.ifscCode),o.xb(1),o.ec("ngIf","2"===i.serviceChecker.ifscCode),o.xb(9),o.xc(i.personDetails.bankName),o.xb(9),o.xc(i.personDetails.branchName),o.xb(5),o.ec("ngModel",i.personDetails.panNo),o.xb(7),o.ec("ngModel",i.personDetails.bankPinCode)("allowDecimals",!1)("allowSign",!1))},directives:[v.p,v.h,v.i,v.j,v.q,n.l,v.b,v.d,A.a,n.m],styles:[""]}),t})();var Y=e("LH3y");function X(t,i){if(1&t&&(o.Ob(0,"option",25),o.wc(1),o.Nb()),2&t){const t=i.$implicit;o.fc("value",t.MANDAL_ID),o.xb(1),o.yc(" ",t.MANDAL_NAME," ")}}function H(t,i){if(1&t&&(o.Ob(0,"option",25),o.wc(1),o.Nb()),2&t){const t=i.$implicit;o.fc("value",t.RBK_ID),o.xb(1),o.yc(" ",t.RBK_NAME," ")}}function q(t,i){if(1&t&&(o.Ob(0,"option",25),o.Yb(1,"json"),o.wc(2),o.Nb()),2&t){const t=i.$implicit;o.fc("value",o.Zb(1,2,t)),o.xb(2),o.yc(" ",t.VDCSNAME," ")}}function W(t,i){if(1&t){const t=o.Pb();o.Ob(0,"tr"),o.Ob(1,"td"),o.Ob(2,"b"),o.wc(3),o.Nb(),o.Nb(),o.Ob(4,"td"),o.wc(5),o.Nb(),o.Ob(6,"td"),o.wc(7),o.Nb(),o.Ob(8,"td"),o.wc(9),o.Nb(),o.Ob(10,"td"),o.wc(11),o.Nb(),o.Ob(12,"td"),o.Ob(13,"a",27),o.Vb("click",(function(){o.oc(t);const e=i.index;return o.Xb(2).btnRemoveFarmer(e)})),o.Kb(14,"i",28),o.Nb(),o.Nb(),o.Nb()}if(2&t){const t=i.$implicit;o.xb(3),o.xc(t.farmerName),o.xb(2),o.xc("B"===t.typeOfMilk?"BUFFALO":"COW"),o.xb(2),o.xc(t.fat),o.xb(2),o.xc(t.SNF),o.xb(2),o.xc(t.amount)}}function z(t,i){if(1&t&&(o.Ob(0,"tbody"),o.vc(1,W,15,5,"tr",26),o.Nb()),2&t){const t=o.Xb();o.xb(1),o.ec("ngForOf",t.inspectionData.milkInspectionList)}}function $(t,i){if(1&t&&(o.Ob(0,"option",25),o.Yb(1,"json"),o.wc(2),o.Nb()),2&t){const t=i.$implicit;o.fc("value",o.Zb(1,2,t)),o.xb(2),o.yc(" ",t.FARMER_NAME," ")}}function Q(t,i){if(1&t){const t=o.Pb();o.Ob(0,"div",29),o.Ob(1,"div",30),o.Ob(2,"div",31),o.Ob(3,"h4",32),o.wc(4,"ADDITION OF FARMERS"),o.Nb(),o.Ob(5,"a",33),o.Vb("click",(function(){return o.oc(t),o.Xb().showFarmersPopup=!1})),o.Ob(6,"span"),o.wc(7,"\xd7"),o.Nb(),o.Nb(),o.Nb(),o.Ob(8,"div",34),o.Ob(9,"div",35),o.Ob(10,"div",5),o.Ob(11,"div",6),o.Ob(12,"label",36),o.wc(13,"FARMER "),o.Ob(14,"span",8),o.wc(15,"*"),o.Nb(),o.Nb(),o.Ob(16,"select",37),o.Vb("ngModelChange",(function(i){return o.oc(t),o.Xb().milkInspectionData.farmerData=i})),o.Ob(17,"option",10),o.wc(18,"-- SELECT FARMER --"),o.Nb(),o.vc(19,$,3,4,"option",11),o.Nb(),o.Nb(),o.Nb(),o.Ob(20,"div",5),o.Ob(21,"div",6),o.Ob(22,"label",38),o.wc(23,"TYPE OF MILK "),o.Ob(24,"span",8),o.wc(25,"*"),o.Nb(),o.Nb(),o.Ob(26,"select",39),o.Vb("ngModelChange",(function(i){return o.oc(t),o.Xb().milkInspectionData.typeOfMilk=i})),o.Ob(27,"option",10),o.wc(28,"-- SELECT TYPE OF MILK --"),o.Nb(),o.Ob(29,"option",40),o.wc(30,"BUFFALO"),o.Nb(),o.Ob(31,"option",41),o.wc(32,"COW"),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Ob(33,"div",5),o.Ob(34,"div",6),o.Ob(35,"label",42),o.wc(36,"FAT "),o.Ob(37,"span",8),o.wc(38,"*"),o.Nb(),o.Nb(),o.Ob(39,"input",43),o.Vb("ngModelChange",(function(i){return o.oc(t),o.Xb().milkInspectionData.fat=i})),o.Nb(),o.Nb(),o.Nb(),o.Ob(40,"div",5),o.Ob(41,"div",6),o.Ob(42,"label",44),o.wc(43,"SNF "),o.Ob(44,"span",8),o.wc(45,"*"),o.Nb(),o.Nb(),o.Ob(46,"input",45),o.Vb("ngModelChange",(function(i){return o.oc(t),o.Xb().milkInspectionData.SNF=i})),o.Nb(),o.Nb(),o.Nb(),o.Ob(47,"div",5),o.Ob(48,"div",6),o.Ob(49,"label",46),o.wc(50,"AMOUNT "),o.Ob(51,"span",8),o.wc(52,"*"),o.Nb(),o.Nb(),o.Ob(53,"input",47),o.Vb("ngModelChange",(function(i){return o.oc(t),o.Xb().milkInspectionData.amount=i})),o.Nb(),o.Nb(),o.Nb(),o.Kb(54,"div",5),o.Ob(55,"div",48),o.Ob(56,"button",49),o.Vb("click",(function(){return o.oc(t),o.Xb().btnAddFarmer()})),o.wc(57," ADD FARMER "),o.Nb(),o.Ob(58,"button",50),o.Vb("click",(function(){return o.oc(t),o.Xb().showFarmersPopup=!1})),o.wc(59," Close "),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Nb()}if(2&t){const t=o.Xb();o.xb(16),o.ec("ngModel",t.milkInspectionData.farmerData),o.xb(3),o.ec("ngForOf",t.farmerList),o.xb(7),o.ec("ngModel",t.milkInspectionData.typeOfMilk),o.xb(13),o.ec("ngModel",t.milkInspectionData.fat)("allowDecimals",!1)("allowSign",!1),o.xb(7),o.ec("ngModel",t.milkInspectionData.SNF)("allowDecimals",!1)("allowSign",!1),o.xb(7),o.ec("ngModel",t.milkInspectionData.amount)("allowDecimals",!1)("allowSign",!1)}}let Z=(()=>{class t{constructor(t,i,e,n,s,a,o,r){this.spinner=t,this.toast=i,this.router=e,this.utils=n,this.logger=s,this.session=a,this.commonAPI=o,this.collectorAPI=r,this.mandalList=[],this.rbkList=[],this.societyList=[],this.farmerList=[],this.showFarmersPopup=!1,this.inspectionData={districtId:"",mandalId:"",rbkId:"",villageData:"",villageId:"",societyId:"",insertedBy:"",source:"",milkInspectionList:[]},this.milkInspectionData={farmerData:"",farmerId:"",farmerName:"",typeOfMilk:"",fat:"",SNF:"",amount:""},this.dtOptions=this.utils.dataTableOptions(),this.dtTrigger=new g.a}ngOnInit(){""!=this.session.uniqueId&&""!=this.session.desigId||this.router.navigate(["/shared/UnAuthorized"]),this.loadMandalList()}loadMandalList(){return Object(N.a)(this,void 0,void 0,(function*(){try{const t={districtId:this.session.districtId};this.spinner.show();const i=yield this.commonAPI.mandalListByDistrictId(t);this.spinner.hide(),i.success?this.mandalList=i.result:this.toast.info(i.message)}catch(t){this.spinner.hide(),this.utils.catchResponse(t)}}))}onMandalChange(){return Object(N.a)(this,void 0,void 0,(function*(){try{if(this.rbkList=[],this.inspectionData.rbkId="",this.inspectionData.villageId="",this.inspectionData.societyId="",this.inspectionData.villageData="",this.societyList=[],this.inspectionData.milkInspectionList=[],this.utils.isEmpty(this.inspectionData.mandalId))return;const t={districtId:this.session.districtId,mandalId:this.inspectionData.mandalId};this.spinner.show();const i=yield this.commonAPI.rbkListByMandalId(t);this.spinner.hide(),i.success?this.rbkList=i.result:this.toast.info(i.message)}catch(t){this.spinner.hide(),this.utils.catchResponse(t)}}))}onRbkChange(){return Object(N.a)(this,void 0,void 0,(function*(){try{if(this.inspectionData.villageId="",this.inspectionData.societyId="",this.inspectionData.villageData="",this.societyList=[],this.inspectionData.milkInspectionList=[],this.utils.isEmpty(this.inspectionData.rbkId))return;const t={districtId:this.session.districtId,rbkId:this.inspectionData.rbkId,uniqueId:this.session.rbkGroupId};this.spinner.show();const i=yield this.commonAPI.societyListRbkId(t);i.success?this.societyList=i.result:this.toast.info(i.message),this.spinner.hide()}catch(t){this.spinner.hide(),this.utils.catchResponse(t)}}))}onSocietyChange(){return Object(N.a)(this,void 0,void 0,(function*(){try{this.inspectionData.milkInspectionList=[],this.utils.isEmpty(this.inspectionData.villageData)||(this.inspectionData.societyId=JSON.parse(this.inspectionData.villageData).VDCS_CODE,this.inspectionData.villageId=JSON.parse(this.inspectionData.villageData).VILLAGE_CODE)}catch(t){this.spinner.hide(),this.utils.catchResponse(t)}}))}addFarmerPopUp(){return Object(N.a)(this,void 0,void 0,(function*(){try{if(this.utils.isEmpty(this.inspectionData.mandalId))return void this.toast.warning("Please Select Mandal");if(this.utils.isEmpty(this.inspectionData.rbkId))return void this.toast.warning("Please Select RSK");if(this.utils.isEmpty(this.inspectionData.villageId))return void this.toast.warning("Please Select Society");if(this.utils.isEmpty(this.inspectionData.societyId))return void this.toast.warning("Please Select Society");this.clearFarmerInput(),this.farmerList=[];const t={societyId:this.inspectionData.societyId};this.spinner.show();const i=yield this.collectorAPI.farmerListBySocietyId(t);i.success?(this.farmerList=i.result,this.showFarmersPopup=!0):this.toast.info(i.message),this.spinner.hide()}catch(t){this.spinner.hide(),this.utils.catchResponse(t)}}))}clearFarmerInput(){this.milkInspectionData={farmerData:"",farmerId:"",farmerName:"",typeOfMilk:"",fat:"",SNF:"",amount:""}}btnAddFarmer(){return Object(N.a)(this,void 0,void 0,(function*(){try{if(this.utils.isEmpty(this.milkInspectionData.farmerData))return void this.toast.warning("Please Select Farmer");if(this.utils.isEmpty(this.milkInspectionData.typeOfMilk))return void this.toast.warning("Please Enter Type Of Milk");if(this.utils.isEmpty(this.milkInspectionData.fat))return void this.toast.warning("Please Enter FAT");if(!this.utils.isNumber(this.milkInspectionData.fat))return void this.toast.warning("Please Enter Valid FAT");if(this.utils.isEmpty(this.milkInspectionData.SNF))return void this.toast.warning("Please Enter SNF");if(!this.utils.isNumber(this.milkInspectionData.SNF))return void this.toast.warning("Please Enter Valid SNF");if(this.utils.isEmpty(this.milkInspectionData.amount))return void this.toast.warning("Please Enter Amount");if(!this.utils.isNumber(this.milkInspectionData.amount))return void this.toast.warning("Please Enter Valid Amount");if(this.milkInspectionData.farmerId=JSON.parse(this.milkInspectionData.farmerData).FARMER_CODE,this.milkInspectionData.farmerName=JSON.parse(this.milkInspectionData.farmerData).FARMER_NAME,this.inspectionData.milkInspectionList.length>10)return void this.toast.warning("10 Farmer Only Added At A Time !!!!");for(let t=0;t<this.inspectionData.milkInspectionList.length;t++)if(this.inspectionData.milkInspectionList[t].farmerId===this.milkInspectionData.farmerId)return void this.toast.warning("Farmer Already Added !!!!");this.inspectionData.milkInspectionList.push(this.milkInspectionData),this.rerender(),this.clearFarmerInput()}catch(t){this.spinner.hide(),this.utils.catchResponse(t)}}))}btnRemoveFarmer(t){return Object(N.a)(this,void 0,void 0,(function*(){try{this.inspectionData.milkInspectionList.length>0&&this.inspectionData.milkInspectionList.splice(t,1)}catch(i){this.utils.catchResponse(i)}}))}btnSubmit(){return Object(N.a)(this,void 0,void 0,(function*(){try{this.inspectionData.insertedBy=this.session.userName,this.inspectionData.districtId=this.session.districtId,this.inspectionData.source="web",this.spinner.show();const t=yield this.collectorAPI.milkInspectionSub(this.inspectionData);t.success?(alert(t.message),window.location.reload()):(this.toast.info(t.message),this.spinner.hide())}catch(t){this.spinner.hide(),this.utils.catchResponse(t)}}))}ngOnDestroy(){this.dtTrigger.unsubscribe()}ngAfterViewInit(){this.dtTrigger.next()}rerender(){this.dtElement.dtInstance.then(t=>{t.destroy(),this.dtTrigger.next()})}}return t.\u0275fac=function(i){return new(i||t)(o.Jb(r.c),o.Jb(d.a),o.Jb(s.c),o.Jb(b.a),o.Jb(D.a),o.Jb(c.a),o.Jb(x.a),o.Jb(Y.a))},t.\u0275cmp=o.Db({type:t,selectors:[["app-milk-inspection"]],viewQuery:function(t,i){var e;1&t&&o.Bc(O.a,!0),2&t&&o.mc(e=o.Wb())&&(i.dtElement=e.first)},decls:60,vars:12,consts:[[1,"card"],[1,"card-header","p-2"],[1,"mb-0"],[1,"card-body"],[1,"row"],[1,"col-md-4"],[1,"form-group"],["for","mandalId"],[2,"color","red"],["id","mandalId",1,"form-control",3,"ngModel","ngModelChange","change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","rbkId"],["id","rbkId",1,"form-control",3,"ngModel","ngModelChange","change"],["for","villageId"],["id","villageId",1,"form-control",3,"ngModel","ngModelChange","change"],[1,"col-md-4","pt-4"],["type","button",1,"btn","btn-primary","btn-sm",3,"click"],[1,"col-md-12","table-responsive",3,"hidden"],["datatable","",1,"table","table-striped","ah-table","text-center",3,"dtOptions","dtTrigger"],[1,"bg-success","text-white"],[4,"ngIf"],["align","center",1,"col-md-12",3,"hidden"],["type","button",1,"btn","btn-sm","btn-success",3,"click"],["class","popup-modal",4,"ngIf"],[3,"value"],[4,"ngFor","ngForOf"],[1,"btn","btn-danger",2,"cursor","pointer",3,"click"],[1,"fa","fa-trash","fa-lg"],[1,"popup-modal"],[1,"popup-content",2,"min-width","75%"],[1,"popup-header"],[1,"title"],["type","button",1,"close",2,"cursor","pointer",3,"click"],[1,"popup-body"],[1,"row","justify-content-center","align-items-center"],["for","farmerData"],["id","farmerData",1,"form-control",3,"ngModel","ngModelChange"],["for","typeOfMilk"],["id","typeOfMilk",1,"form-control",3,"ngModel","ngModelChange"],["value","B"],["value","C"],["for","fat"],["id","fat","type","text","placeholder","Please Enter FAT","maxlength","5","autocomplete","off","NumbersOnly","",1,"form-control",3,"ngModel","allowDecimals","allowSign","ngModelChange"],["for","SNF"],["id","SNF","type","text","placeholder","Please Enter SNF","maxlength","5","autocomplete","off","NumbersOnly","",1,"form-control",3,"ngModel","allowDecimals","allowSign","ngModelChange"],["for","amount"],["id","amount","type","text","placeholder","Please Enter Amount","maxlength","5","autocomplete","off","NumbersOnly","",1,"form-control",3,"ngModel","allowDecimals","allowSign","ngModelChange"],[1,"popup-footer","justify-content-center"],["type","button",1,"btn","btn-success","btn-sm","btn-rounded",3,"click"],["type","button",1,"btn","btn-danger","btn-sm","btn-rounded",3,"click"]],template:function(t,i){1&t&&(o.Ob(0,"div",0),o.Ob(1,"div",1),o.Ob(2,"h5",2),o.wc(3,"MILK INSPECTION"),o.Nb(),o.Nb(),o.Ob(4,"div",3),o.Ob(5,"div",4),o.Ob(6,"div",5),o.Ob(7,"div",6),o.Ob(8,"label",7),o.wc(9,"MANDAL "),o.Ob(10,"span",8),o.wc(11,"*"),o.Nb(),o.Nb(),o.Ob(12,"select",9),o.Vb("ngModelChange",(function(t){return i.inspectionData.mandalId=t}))("change",(function(){return i.onMandalChange()})),o.Ob(13,"option",10),o.wc(14,"-- SELECT MANDAL --"),o.Nb(),o.vc(15,X,2,2,"option",11),o.Nb(),o.Nb(),o.Nb(),o.Ob(16,"div",5),o.Ob(17,"div",6),o.Ob(18,"label",12),o.wc(19,"RSK "),o.Ob(20,"span",8),o.wc(21,"*"),o.Nb(),o.Nb(),o.Ob(22,"select",13),o.Vb("ngModelChange",(function(t){return i.inspectionData.rbkId=t}))("change",(function(){return i.onRbkChange()})),o.Ob(23,"option",10),o.wc(24,"-- SELECT RSK --"),o.Nb(),o.vc(25,H,2,2,"option",11),o.Nb(),o.Nb(),o.Nb(),o.Ob(26,"div",5),o.Ob(27,"div",6),o.Ob(28,"label",14),o.wc(29,"SOCIETY "),o.Ob(30,"span",8),o.wc(31,"*"),o.Nb(),o.Nb(),o.Ob(32,"select",15),o.Vb("ngModelChange",(function(t){return i.inspectionData.villageData=t}))("change",(function(){return i.onSocietyChange()})),o.Ob(33,"option",10),o.wc(34,"-- SELECT SOCIETY --"),o.Nb(),o.vc(35,q,3,4,"option",11),o.Nb(),o.Nb(),o.Nb(),o.Ob(36,"div",16),o.Ob(37,"button",17),o.Vb("click",(function(){return i.addFarmerPopUp()})),o.wc(38," Add Farmer "),o.Nb(),o.Nb(),o.Ob(39,"div",18),o.Ob(40,"table",19),o.Ob(41,"thead",20),o.Ob(42,"tr"),o.Ob(43,"th"),o.wc(44,"FARMER NAME"),o.Nb(),o.Ob(45,"th"),o.wc(46,"TYPE OF MILK"),o.Nb(),o.Ob(47,"th"),o.wc(48,"FAT"),o.Nb(),o.Ob(49,"th"),o.wc(50,"SNF"),o.Nb(),o.Ob(51,"th"),o.wc(52,"AMOUNT"),o.Nb(),o.Ob(53,"th"),o.wc(54,"REMOVE"),o.Nb(),o.Nb(),o.Nb(),o.vc(55,z,2,1,"tbody",21),o.Nb(),o.Nb(),o.Ob(56,"div",22),o.Ob(57,"button",23),o.Vb("click",(function(){return i.btnSubmit()})),o.wc(58," SUBMIT "),o.Nb(),o.Nb(),o.vc(59,Q,60,12,"div",24),o.Nb(),o.Nb(),o.Nb()),2&t&&(o.xb(12),o.ec("ngModel",i.inspectionData.mandalId),o.xb(3),o.ec("ngForOf",i.mandalList),o.xb(7),o.ec("ngModel",i.inspectionData.rbkId),o.xb(3),o.ec("ngForOf",i.rbkList),o.xb(7),o.ec("ngModel",i.inspectionData.villageData),o.xb(3),o.ec("ngForOf",i.societyList),o.xb(4),o.ec("hidden",(null==i.inspectionData.milkInspectionList?null:i.inspectionData.milkInspectionList.length)<1),o.xb(1),o.ec("dtOptions",i.dtOptions)("dtTrigger",i.dtTrigger),o.xb(15),o.ec("ngIf",(null==i.inspectionData.milkInspectionList?null:i.inspectionData.milkInspectionList.length)>0),o.xb(1),o.ec("hidden",(null==i.inspectionData.milkInspectionList?null:i.inspectionData.milkInspectionList.length)<1),o.xb(3),o.ec("ngIf",i.showFarmersPopup))},directives:[v.p,v.h,v.i,v.j,v.q,n.l,O.a,n.m,v.b,v.d,A.a],pipes:[n.g],styles:[""]}),t})();var tt=e("ryfq");const it=["candidateAmountImgUpload"],et=["paymentSlipImgUpload"];function nt(t,i){if(1&t&&(o.Ob(0,"option",25),o.wc(1),o.Nb()),2&t){const t=i.$implicit;o.fc("value",t.MANDAL_ID),o.xb(1),o.yc(" ",t.MANDAL_NAME," ")}}function st(t,i){if(1&t&&(o.Ob(0,"option",25),o.wc(1),o.Nb()),2&t){const t=i.$implicit;o.fc("value",t.RBK_ID),o.xb(1),o.yc(" ",t.RBK_NAME," ")}}function at(t,i){if(1&t&&(o.Ob(0,"option",25),o.Yb(1,"json"),o.wc(2),o.Nb()),2&t){const t=i.$implicit;o.fc("value",o.Zb(1,2,t)),o.xb(2),o.yc(" ",t.VDCSNAME," ")}}function ot(t,i){if(1&t){const t=o.Pb();o.Ob(0,"button",30),o.Vb("click",(function(){o.oc(t);const i=o.Xb().$implicit;return o.Xb(2).btnPhotoView(i.candidateAmountImg)})),o.wc(1," VIEW "),o.Nb()}}function rt(t,i){1&t&&(o.Ob(0,"span"),o.wc(1,"NA"),o.Nb())}function ct(t,i){if(1&t){const t=o.Pb();o.Ob(0,"button",30),o.Vb("click",(function(){o.oc(t);const i=o.Xb().$implicit;return o.Xb(2).btnPhotoView(i.paymentSlipImg)})),o.wc(1," VIEW "),o.Nb()}}function bt(t,i){1&t&&(o.Ob(0,"span"),o.wc(1,"NA"),o.Nb())}function lt(t,i){if(1&t){const t=o.Pb();o.Ob(0,"tr"),o.Ob(1,"td"),o.Ob(2,"b"),o.wc(3),o.Nb(),o.Nb(),o.Ob(4,"td"),o.wc(5),o.Nb(),o.Ob(6,"td"),o.wc(7),o.Nb(),o.Ob(8,"td"),o.wc(9),o.Nb(),o.Ob(10,"td"),o.wc(11),o.Nb(),o.Ob(12,"td"),o.wc(13),o.Nb(),o.Ob(14,"td"),o.wc(15),o.Nb(),o.Ob(16,"td"),o.vc(17,ot,2,0,"button",27),o.vc(18,rt,2,0,"span",21),o.Nb(),o.Ob(19,"td"),o.vc(20,ct,2,0,"button",27),o.vc(21,bt,2,0,"span",21),o.Nb(),o.Ob(22,"td"),o.Ob(23,"a",28),o.Vb("click",(function(){o.oc(t);const e=i.index;return o.Xb(2).btnRemoveFarmer(e)})),o.Kb(24,"i",29),o.Nb(),o.Nb(),o.Nb()}if(2&t){const t=i.$implicit;o.xb(3),o.xc(t.farmerName),o.xb(2),o.xc(t.paymentCycle),o.xb(2),o.xc(t.milkQuantity),o.xb(2),o.xc(t.fat),o.xb(2),o.xc(t.SNF),o.xb(2),o.xc(t.amount),o.xb(2),o.xc(t.creditedAmount),o.xb(2),o.ec("ngIf",null!==t.candidateAmountImg&&""!==t.candidateAmountImg&&void 0!==t.candidateAmountImg),o.xb(1),o.ec("ngIf",null===t.candidateAmountImg||""===t.candidateAmountImg||void 0===t.candidateAmountImg),o.xb(2),o.ec("ngIf",null!==t.paymentSlipImg&&""!==t.paymentSlipImg&&void 0!==t.paymentSlipImg),o.xb(1),o.ec("ngIf",null===t.paymentSlipImg||""===t.paymentSlipImg||void 0===t.paymentSlipImg)}}function dt(t,i){if(1&t&&(o.Ob(0,"tbody"),o.vc(1,lt,25,11,"tr",26),o.Nb()),2&t){const t=o.Xb();o.xb(1),o.ec("ngForOf",t.inspectionData.farmerInspectionList)}}function pt(t,i){if(1&t&&(o.Ob(0,"option",25),o.Yb(1,"json"),o.wc(2),o.Nb()),2&t){const t=i.$implicit;o.fc("value",o.Zb(1,2,t)),o.xb(2),o.yc(" ",t.FARMER_NAME," ")}}function ht(t,i){if(1&t&&(o.Ob(0,"option",25),o.wc(1),o.Nb()),2&t){const t=i.$implicit;o.fc("value",t.PERIOD),o.xb(1),o.yc(" ",t.PERIOD," ")}}function ut(t,i){if(1&t){const t=o.Pb();o.Ob(0,"div",31),o.Ob(1,"div",32),o.Ob(2,"div",33),o.Ob(3,"h4",34),o.wc(4,"ADDITION OF FARMERS"),o.Nb(),o.Ob(5,"a",35),o.Vb("click",(function(){return o.oc(t),o.Xb().showFarmersPopup=!1})),o.Ob(6,"span"),o.wc(7,"\xd7"),o.Nb(),o.Nb(),o.Nb(),o.Ob(8,"div",36),o.Ob(9,"div",37),o.Ob(10,"div",5),o.Ob(11,"div",6),o.Ob(12,"label",38),o.wc(13,"FARMER "),o.Ob(14,"span",8),o.wc(15,"*"),o.Nb(),o.Nb(),o.Ob(16,"select",39),o.Vb("ngModelChange",(function(i){return o.oc(t),o.Xb().farmerInspectionData.farmerData=i}))("change",(function(){return o.oc(t),o.Xb().onFarmerChange()})),o.Ob(17,"option",10),o.wc(18,"-- SELECT FARMER --"),o.Nb(),o.vc(19,pt,3,4,"option",11),o.Nb(),o.Nb(),o.Nb(),o.Ob(20,"div",5),o.Ob(21,"div",6),o.Ob(22,"label",38),o.wc(23,"PAYMENT CYCLE "),o.Ob(24,"span",8),o.wc(25,"*"),o.Nb(),o.Nb(),o.Ob(26,"select",40),o.Vb("ngModelChange",(function(i){return o.oc(t),o.Xb().farmerInspectionData.paymentCycle=i})),o.Ob(27,"option",10),o.wc(28,"-- SELECT PAYMENT --"),o.Nb(),o.vc(29,ht,2,2,"option",11),o.Nb(),o.Nb(),o.Nb(),o.Ob(30,"div",5),o.Ob(31,"div",6),o.Ob(32,"label",41),o.wc(33,"MILK IN LITRES "),o.Ob(34,"span",8),o.wc(35,"*"),o.Nb(),o.Nb(),o.Ob(36,"input",42),o.Vb("ngModelChange",(function(i){return o.oc(t),o.Xb().farmerInspectionData.milkQuantity=i})),o.Nb(),o.Nb(),o.Nb(),o.Ob(37,"div",5),o.Ob(38,"div",6),o.Ob(39,"label",43),o.wc(40,"FAT "),o.Ob(41,"span",8),o.wc(42,"*"),o.Nb(),o.Nb(),o.Ob(43,"input",44),o.Vb("ngModelChange",(function(i){return o.oc(t),o.Xb().farmerInspectionData.fat=i})),o.Nb(),o.Nb(),o.Nb(),o.Ob(44,"div",5),o.Ob(45,"div",6),o.Ob(46,"label",45),o.wc(47,"SNF "),o.Ob(48,"span",8),o.wc(49,"*"),o.Nb(),o.Nb(),o.Ob(50,"input",46),o.Vb("ngModelChange",(function(i){return o.oc(t),o.Xb().farmerInspectionData.SNF=i})),o.Nb(),o.Nb(),o.Nb(),o.Ob(51,"div",5),o.Ob(52,"div",6),o.Ob(53,"label",47),o.wc(54,"AMOUNT "),o.Ob(55,"span",8),o.wc(56,"*"),o.Nb(),o.Nb(),o.Ob(57,"input",48),o.Vb("ngModelChange",(function(i){return o.oc(t),o.Xb().farmerInspectionData.amount=i})),o.Nb(),o.Nb(),o.Nb(),o.Ob(58,"div",5),o.Ob(59,"div",6),o.Ob(60,"label",47),o.wc(61,"CREDITED AMOUNT "),o.Ob(62,"span",8),o.wc(63,"*"),o.Nb(),o.Nb(),o.Ob(64,"input",48),o.Vb("ngModelChange",(function(i){return o.oc(t),o.Xb().farmerInspectionData.creditedAmount=i})),o.Nb(),o.Nb(),o.Nb(),o.Ob(65,"div",5),o.Ob(66,"div",6),o.Ob(67,"label",49),o.wc(68,"CANDIDATE AMOUNT PHOTO "),o.Ob(69,"span",8),o.wc(70,"*"),o.Nb(),o.Nb(),o.Ob(71,"input",50,51),o.Vb("change",(function(i){return o.oc(t),o.Xb().onCandidateAmountImageChange(i)})),o.Nb(),o.Nb(),o.Nb(),o.Ob(73,"div",5),o.Ob(74,"div",6),o.Ob(75,"label",49),o.wc(76,"Payment Slip Photo "),o.Ob(77,"span",8),o.wc(78,"*"),o.Nb(),o.Nb(),o.Ob(79,"input",50,52),o.Vb("change",(function(i){return o.oc(t),o.Xb().onPaymentSlipImageChange(i)})),o.Nb(),o.Nb(),o.Nb(),o.Ob(81,"div",53),o.Ob(82,"button",54),o.Vb("click",(function(){return o.oc(t),o.Xb().btnAddFarmer()})),o.wc(83," ADD FARMER "),o.Nb(),o.Ob(84,"button",55),o.Vb("click",(function(){return o.oc(t),o.Xb().showFarmersPopup=!1})),o.wc(85," Close "),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Nb()}if(2&t){const t=o.Xb();o.xb(16),o.ec("ngModel",t.farmerInspectionData.farmerData),o.xb(3),o.ec("ngForOf",t.farmerList),o.xb(7),o.ec("ngModel",t.farmerInspectionData.paymentCycle),o.xb(3),o.ec("ngForOf",t.paymentList),o.xb(7),o.ec("ngModel",t.farmerInspectionData.milkQuantity)("allowDecimals",!0)("allowSign",!1),o.xb(7),o.ec("ngModel",t.farmerInspectionData.fat)("allowDecimals",!0)("allowSign",!1),o.xb(7),o.ec("ngModel",t.farmerInspectionData.SNF)("allowDecimals",!0)("allowSign",!1),o.xb(7),o.ec("ngModel",t.farmerInspectionData.amount)("allowDecimals",!0)("allowSign",!1),o.xb(7),o.ec("ngModel",t.farmerInspectionData.creditedAmount)("allowDecimals",!0)("allowSign",!1)}}function mt(t,i){if(1&t&&(o.Ob(0,"option",27),o.wc(1),o.Nb()),2&t){const t=i.$implicit;o.fc("value",t.MANDAL_ID),o.xb(1),o.yc(" ",t.MANDAL_NAME," ")}}function Nt(t,i){if(1&t&&(o.Ob(0,"option",27),o.wc(1),o.Nb()),2&t){const t=i.$implicit;o.fc("value",t.RBK_ID),o.xb(1),o.yc(" ",t.RBK_NAME," ")}}function Ot(t,i){if(1&t&&(o.Ob(0,"option",27),o.Yb(1,"json"),o.wc(2),o.Nb()),2&t){const t=i.$implicit;o.fc("value",o.Zb(1,2,t)),o.xb(2),o.yc(" ",t.VDCSNAME," ")}}function gt(t,i){if(1&t&&(o.Ob(0,"option",27),o.wc(1),o.Nb()),2&t){const t=i.$implicit;o.fc("value",t.EQUIPMENT_ID),o.xb(1),o.yc(" ",t.EQUIPMENT_NAME," ")}}function ft(t,i){if(1&t&&(o.Ob(0,"option",27),o.wc(1),o.Nb()),2&t){const t=i.$implicit;o.fc("value",t.REASON_ID),o.xb(1),o.yc(" ",t.REASON_NAME," ")}}function It(t,i){if(1&t){const t=o.Pb();o.Ob(0,"div",5),o.Ob(1,"div",6),o.Ob(2,"label",16),o.wc(3,"REASON "),o.Ob(4,"span",8),o.wc(5,"*"),o.Nb(),o.Nb(),o.Ob(6,"select",28),o.Vb("ngModelChange",(function(i){return o.oc(t),o.Xb().inspectionData.reason=i})),o.Ob(7,"option",10),o.wc(8,"-- SELECT REASON --"),o.Nb(),o.vc(9,ft,2,2,"option",11),o.Nb(),o.Nb(),o.Nb()}if(2&t){const t=o.Xb();o.xb(6),o.ec("ngModel",t.inspectionData.reason),o.xb(3),o.ec("ngForOf",t.reasonsList)}}function Dt(t,i){if(1&t){const t=o.Pb();o.Ob(0,"div",5),o.Ob(1,"div",6),o.Ob(2,"label",29),o.wc(3,"REMARKS "),o.Ob(4,"span",8),o.wc(5,"*"),o.Nb(),o.Nb(),o.Ob(6,"input",30),o.Vb("ngModelChange",(function(i){return o.oc(t),o.Xb().inspectionData.remarks=i})),o.Nb(),o.Nb(),o.Nb()}if(2&t){const t=o.Xb();o.xb(6),o.ec("ngModel",t.inspectionData.remarks)}}const vt=["206"],At=[{path:"",component:m,children:[{path:"",redirectTo:"registerFarmerStatus",pathMatch:"full"},{path:"registerFarmer",component:J,canActivate:[a.a],data:{roles:vt}},{path:"registerFarmerStatus",component:T,canActivate:[a.a],data:{roles:vt}},{path:"milkInspection",component:Z,canActivate:[a.a],data:{roles:vt}},{path:"payWiseInspection",component:(()=>{class t{constructor(t,i,e,n,s,a,o,r,c,b){this.spinner=t,this.toast=i,this.router=e,this.mcuAPI=n,this.utils=s,this.logger=a,this.session=o,this.sanitizer=r,this.collectorAPI=c,this.commonAPI=b,this.mandalList=[],this.rbkList=[],this.societyList=[],this.farmerList=[],this.paymentList=[],this.inspectionData={districtId:"",mandalId:"",rbkId:"",villageData:"",villageId:"",societyId:"",source:"",insertedBy:"",farmerInspectionList:[]},this.farmerInspectionData={farmerData:"",farmerId:"",farmerName:"",paymentCycle:"",milkQuantity:"",fat:"",SNF:"",amount:"",creditedAmount:"",paymentSlipImg:"",candidateAmountImg:""},this.showFarmersPopup=!1,this.dtOptions=this.utils.dataTableOptions(),this.dtTrigger=new g.a}ngOnInit(){""!=this.session.uniqueId&&""!=this.session.desigId||this.router.navigate(["/shared/UnAuthorized"]),this.loadMandalList(),this.paymentPeriodList()}loadMandalList(){return Object(N.a)(this,void 0,void 0,(function*(){try{const t={districtId:this.session.districtId};this.spinner.show();const i=yield this.commonAPI.mandalListByDistrictId(t);this.spinner.hide(),i.success?this.mandalList=i.result:this.toast.info(i.message)}catch(t){this.spinner.hide(),this.utils.catchResponse(t)}}))}onMandalChange(){return Object(N.a)(this,void 0,void 0,(function*(){try{if(this.rbkList=[],this.societyList=[],this.inspectionData.rbkId="",this.inspectionData.villageId="",this.inspectionData.societyId="",this.inspectionData.villageData="",this.inspectionData.farmerInspectionList=[],this.utils.isEmpty(this.inspectionData.mandalId))return;const t={districtId:this.session.districtId,mandalId:this.inspectionData.mandalId};this.spinner.show();const i=yield this.commonAPI.rbkListByMandalId(t);this.spinner.hide(),i.success?this.rbkList=i.result:this.toast.info(i.message)}catch(t){this.spinner.hide(),this.utils.catchResponse(t)}}))}paymentPeriodList(){return Object(N.a)(this,void 0,void 0,(function*(){try{this.paymentList=[];const t={};this.spinner.show();const i=yield this.collectorAPI.paymentCycleList(t);i.success?this.paymentList=i.result:this.toast.info(i.message),this.spinner.hide()}catch(t){this.spinner.hide(),this.utils.catchResponse(t)}}))}onRbkChange(){return Object(N.a)(this,void 0,void 0,(function*(){try{if(this.inspectionData.villageId="",this.inspectionData.societyId="",this.societyList=[],this.inspectionData.farmerInspectionList=[],this.utils.isEmpty(this.inspectionData.rbkId))return;const t={districtId:this.session.districtId,rbkId:this.inspectionData.rbkId,uniqueId:this.session.rbkGroupId};this.spinner.show();const i=yield this.commonAPI.societyListRbkId(t);i.success?this.societyList=i.result:this.toast.info(i.message),this.spinner.hide()}catch(t){this.spinner.hide(),this.utils.catchResponse(t)}}))}onSocietyChange(){return Object(N.a)(this,void 0,void 0,(function*(){try{this.inspectionData.farmerInspectionList=[],this.utils.isEmpty(this.inspectionData.villageData)||(this.inspectionData.societyId=JSON.parse(this.inspectionData.villageData).VDCS_CODE,this.inspectionData.villageId=JSON.parse(this.inspectionData.villageData).VILLAGE_CODE)}catch(t){this.spinner.hide(),this.utils.catchResponse(t)}}))}addFarmerPopUp(){return Object(N.a)(this,void 0,void 0,(function*(){try{if(this.utils.isEmpty(this.inspectionData.mandalId))return void this.toast.warning("Please Select Mandal");if(this.utils.isEmpty(this.inspectionData.rbkId))return void this.toast.warning("Please Select RSK");if(this.utils.isEmpty(this.inspectionData.villageId))return void this.toast.warning("Please Select Society");if(this.utils.isEmpty(this.inspectionData.societyId))return void this.toast.warning("Please Select Society");this.clearFarmerInput(),this.farmerList=[];const t={societyId:this.inspectionData.societyId};this.spinner.show();const i=yield this.collectorAPI.farmerListBySocietyId(t);i.success?(this.farmerList=i.result,this.showFarmersPopup=!0):this.toast.info(i.message),this.spinner.hide()}catch(t){this.spinner.hide(),this.utils.catchResponse(t)}}))}clearFarmerInput(){this.farmerInspectionData={farmerData:"",farmerId:"",farmerName:"",paymentCycle:"",milkQuantity:"",fat:"",SNF:"",amount:"",creditedAmount:"",paymentSlipImg:"",candidateAmountImg:""},this.candidateAmountImgUpload&&(this.candidateAmountImgUpload.nativeElement.value=""),this.paymentSlipImgUpload&&(this.paymentSlipImgUpload.nativeElement.value="")}onFarmerChange(){const t=JSON.parse(this.farmerInspectionData.farmerData).FARMER_CODE,i=JSON.parse(this.farmerInspectionData.farmerData).FARMER_NAME;this.farmerInspectionData={farmerData:this.farmerInspectionData.farmerData,farmerId:t,farmerName:i,paymentCycle:"",milkQuantity:"",fat:"",SNF:"",amount:"",creditedAmount:"",paymentSlipImg:"",candidateAmountImg:""},this.candidateAmountImgUpload&&(this.candidateAmountImgUpload.nativeElement.value=""),this.paymentSlipImgUpload&&(this.paymentSlipImgUpload.nativeElement.value="")}btnAddFarmer(){return Object(N.a)(this,void 0,void 0,(function*(){try{if(this.utils.isEmpty(this.farmerInspectionData.farmerData))return void this.toast.warning("Please Select Farmer");if(this.utils.isEmpty(this.farmerInspectionData.paymentCycle))return void this.toast.warning("Please Select Payment Cycle");if(this.utils.isEmpty(this.farmerInspectionData.milkQuantity))return void this.toast.warning("Please Enter Milk In Litres");if(!this.utils.isNumber(this.farmerInspectionData.milkQuantity))return void this.toast.warning("Please Enter Valid Milk In Litres");if(this.utils.isEmpty(this.farmerInspectionData.fat))return void this.toast.warning("Please Enter FAT");if(!this.utils.isNumber(this.farmerInspectionData.fat))return void this.toast.warning("Please Enter Valid FAT");if(this.utils.isEmpty(this.farmerInspectionData.SNF))return void this.toast.warning("Please Enter SNF");if(!this.utils.isNumber(this.farmerInspectionData.SNF))return void this.toast.warning("Please Enter Valid SNF");if(this.utils.isEmpty(this.farmerInspectionData.amount))return void this.toast.warning("Please Enter Amount");if(!this.utils.isNumber(this.farmerInspectionData.amount))return void this.toast.warning("Please Enter Valid Amount");if(this.utils.isEmpty(this.farmerInspectionData.creditedAmount))return void this.toast.warning("Please Enter Credited Amount");if(!this.utils.isNumber(this.farmerInspectionData.creditedAmount))return void this.toast.warning("Please Enter Valid Credited Amount");if(this.utils.isEmpty(this.farmerInspectionData.candidateAmountImg))return void this.toast.warning("Please Upload Amount Photo");if(this.utils.isEmpty(this.farmerInspectionData.paymentSlipImg))return void this.toast.warning("Please Upload Payment Photo");if(this.farmerInspectionData.farmerId=JSON.parse(this.farmerInspectionData.farmerData).FARMER_CODE,this.farmerInspectionData.farmerName=JSON.parse(this.farmerInspectionData.farmerData).FARMER_NAME,this.inspectionData.farmerInspectionList.length>10)return void this.toast.warning("10 Farmer Only Added At A Time !!!!");for(let t=0;t<this.inspectionData.farmerInspectionList.length;t++)if(this.inspectionData.farmerInspectionList[t].farmerId===this.farmerInspectionData.farmerId)return void this.toast.warning("Farmer Already Added !!!!");this.inspectionData.farmerInspectionList.push(this.farmerInspectionData),this.rerender(),this.clearFarmerInput()}catch(t){this.spinner.hide(),this.utils.catchResponse(t)}}))}btnRemoveFarmer(t){return Object(N.a)(this,void 0,void 0,(function*(){try{this.inspectionData.farmerInspectionList.length>0&&this.inspectionData.farmerInspectionList.splice(t,1)}catch(i){this.utils.catchResponse(i)}}))}btnSubmit(){return Object(N.a)(this,void 0,void 0,(function*(){try{this.inspectionData.insertedBy=this.session.userName,this.inspectionData.districtId=this.session.districtId,this.inspectionData.source="web",this.spinner.show();const t=yield this.collectorAPI.paymentInspectionSub(this.inspectionData);t.success?(alert(t.message),window.location.reload()):(this.toast.info(t.message),this.spinner.hide())}catch(t){this.spinner.hide(),this.utils.catchResponse(t)}}))}onCandidateAmountImageChange(t){this.utils.encodedString(t,this.utils.fileType.IMAGE,this.utils.fileSize.twoHundredKB).then(t=>{this.farmerInspectionData.candidateAmountImg=t.replace("data:image/jpeg;base64,","")}).catch(t=>{this.utils.catchResponse(t)})}onPaymentSlipImageChange(t){this.utils.encodedString(t,this.utils.fileType.IMAGE,this.utils.fileSize.twoHundredKB).then(t=>{this.farmerInspectionData.paymentSlipImg=t.replace("data:image/jpeg;base64,","")}).catch(t=>{this.utils.catchResponse(t)})}btnPhotoView(t){return Object(N.a)(this,void 0,void 0,(function*(){try{let i=this.sanitizer.bypassSecurityTrustResourceUrl(t).changingThisBreaksApplicationSecurity;this.utils.viewImage(i)}catch(i){this.utils.catchResponse(i)}}))}ngOnDestroy(){this.dtTrigger.unsubscribe()}ngAfterViewInit(){this.dtTrigger.next()}rerender(){this.dtElement.dtInstance.then(t=>{t.destroy(),this.dtTrigger.next()})}}return t.\u0275fac=function(i){return new(i||t)(o.Jb(r.c),o.Jb(d.a),o.Jb(s.c),o.Jb(tt.a),o.Jb(b.a),o.Jb(D.a),o.Jb(c.a),o.Jb(I.b),o.Jb(Y.a),o.Jb(x.a))},t.\u0275cmp=o.Db({type:t,selectors:[["app-pay-wise-inspection"]],viewQuery:function(t,i){var e;1&t&&(o.Bc(it,!0),o.Bc(et,!0),o.Bc(O.a,!0)),2&t&&(o.mc(e=o.Wb())&&(i.candidateAmountImgUpload=e.first),o.mc(e=o.Wb())&&(i.paymentSlipImgUpload=e.first),o.mc(e=o.Wb())&&(i.dtElement=e.first))},decls:68,vars:12,consts:[[1,"card"],[1,"card-header","p-2"],[1,"mb-0"],[1,"card-body"],[1,"row"],[1,"col-md-4"],[1,"form-group"],["for","mandalId"],[2,"color","red"],["id","mandalId",1,"form-control",3,"ngModel","ngModelChange","change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","rbkId"],["id","rbkId",1,"form-control",3,"ngModel","ngModelChange","change"],["for","villageId"],["id","villageId",1,"form-control",3,"ngModel","ngModelChange","change"],[1,"col-md-4","pt-4"],["type","button",1,"btn","btn-primary","btn-sm",3,"click"],[1,"col-md-12","table-responsive",3,"hidden"],["datatable","",1,"table","table-striped","ah-table","text-center",3,"dtOptions","dtTrigger"],[1,"bg-success","text-white"],[4,"ngIf"],["align","center",1,"col-md-12",3,"hidden"],["type","button",1,"btn","btn-sm","btn-success",3,"click"],["class","popup-modal",4,"ngIf"],[3,"value"],[4,"ngFor","ngForOf"],["type","button","class","btn btn-link btn-sm",3,"click",4,"ngIf"],[1,"btn","btn-danger",2,"cursor","pointer",3,"click"],[1,"fa","fa-trash","fa-lg"],["type","button",1,"btn","btn-link","btn-sm",3,"click"],[1,"popup-modal"],[1,"popup-content",2,"min-width","75%"],[1,"popup-header"],[1,"title"],["type","button",1,"close",2,"cursor","pointer",3,"click"],[1,"popup-body"],[1,"row","justify-content-center","align-items-center"],["for","farmerData"],["id","farmerData",1,"form-control",3,"ngModel","ngModelChange","change"],["id","paymentCycle",1,"form-control",3,"ngModel","ngModelChange"],["for","milkInLtrs"],["id","milkInLtrs","type","text","placeholder","Please Enter Milk Quantity","maxlength","5","autocomplete","off","NumbersOnly","",1,"form-control",3,"ngModel","allowDecimals","allowSign","ngModelChange"],["for","fat"],["id","fat","type","text","placeholder","Please Enter FAT","maxlength","5","autocomplete","off","NumbersOnly","",1,"form-control",3,"ngModel","allowDecimals","allowSign","ngModelChange"],["for","SNF"],["id","SNF","type","text","placeholder","Please Enter SNF","maxlength","5","autocomplete","off","NumbersOnly","",1,"form-control",3,"ngModel","allowDecimals","allowSign","ngModelChange"],["for","amount"],["id","amount","type","text","placeholder","Please Enter Amount","maxlength","5","autocomplete","off","NumbersOnly","",1,"form-control",3,"ngModel","allowDecimals","allowSign","ngModelChange"],["for","inspectionImg"],["type","file","id","inspectionImg","accept","image/*","autocomplete","off",1,"form-control","p-0",3,"change"],["candidateAmountImgUpload",""],["paymentSlipImgUpload",""],[1,"popup-footer","justify-content-center"],["type","button",1,"btn","btn-success","btn-sm","btn-rounded",3,"click"],["type","button",1,"btn","btn-danger","btn-sm","btn-rounded",3,"click"]],template:function(t,i){1&t&&(o.Ob(0,"div",0),o.Ob(1,"div",1),o.Ob(2,"h5",2),o.wc(3,"PAYMENT INSPECTION"),o.Nb(),o.Nb(),o.Ob(4,"div",3),o.Ob(5,"div",4),o.Ob(6,"div",5),o.Ob(7,"div",6),o.Ob(8,"label",7),o.wc(9,"MANDAL "),o.Ob(10,"span",8),o.wc(11,"*"),o.Nb(),o.Nb(),o.Ob(12,"select",9),o.Vb("ngModelChange",(function(t){return i.inspectionData.mandalId=t}))("change",(function(){return i.onMandalChange()})),o.Ob(13,"option",10),o.wc(14,"-- SELECT MANDAL --"),o.Nb(),o.vc(15,nt,2,2,"option",11),o.Nb(),o.Nb(),o.Nb(),o.Ob(16,"div",5),o.Ob(17,"div",6),o.Ob(18,"label",12),o.wc(19,"RSK "),o.Ob(20,"span",8),o.wc(21,"*"),o.Nb(),o.Nb(),o.Ob(22,"select",13),o.Vb("ngModelChange",(function(t){return i.inspectionData.rbkId=t}))("change",(function(){return i.onRbkChange()})),o.Ob(23,"option",10),o.wc(24,"-- SELECT RSK --"),o.Nb(),o.vc(25,st,2,2,"option",11),o.Nb(),o.Nb(),o.Nb(),o.Ob(26,"div",5),o.Ob(27,"div",6),o.Ob(28,"label",14),o.wc(29,"SOCIETY "),o.Ob(30,"span",8),o.wc(31,"*"),o.Nb(),o.Nb(),o.Ob(32,"select",15),o.Vb("ngModelChange",(function(t){return i.inspectionData.villageData=t}))("change",(function(){return i.onSocietyChange()})),o.Ob(33,"option",10),o.wc(34,"-- SELECT SOCIETY --"),o.Nb(),o.vc(35,at,3,4,"option",11),o.Nb(),o.Nb(),o.Nb(),o.Ob(36,"div",16),o.Ob(37,"button",17),o.Vb("click",(function(){return i.addFarmerPopUp()})),o.wc(38," Add Farmer "),o.Nb(),o.Nb(),o.Ob(39,"div",18),o.Ob(40,"table",19),o.Ob(41,"thead",20),o.Ob(42,"tr"),o.Ob(43,"th"),o.wc(44,"FARMER NAME"),o.Nb(),o.Ob(45,"th"),o.wc(46,"PAYMENT OF CYCLE"),o.Nb(),o.Ob(47,"th"),o.wc(48,"MILK IN LITRES"),o.Nb(),o.Ob(49,"th"),o.wc(50,"FAT"),o.Nb(),o.Ob(51,"th"),o.wc(52,"SNF"),o.Nb(),o.Ob(53,"th"),o.wc(54,"AMOUNT"),o.Nb(),o.Ob(55,"th"),o.wc(56,"CREDITED AMOUNT"),o.Nb(),o.Ob(57,"th"),o.wc(58,"CANDIDATE AMOUNT PHOTO"),o.Nb(),o.Ob(59,"th"),o.wc(60,"PAYMENT SLIP IMAGE"),o.Nb(),o.Ob(61,"th"),o.wc(62,"REMOVE"),o.Nb(),o.Nb(),o.Nb(),o.vc(63,dt,2,1,"tbody",21),o.Nb(),o.Nb(),o.Ob(64,"div",22),o.Ob(65,"button",23),o.Vb("click",(function(){return i.btnSubmit()})),o.wc(66," SUBMIT "),o.Nb(),o.Nb(),o.vc(67,ut,86,19,"div",24),o.Nb(),o.Nb(),o.Nb()),2&t&&(o.xb(12),o.ec("ngModel",i.inspectionData.mandalId),o.xb(3),o.ec("ngForOf",i.mandalList),o.xb(7),o.ec("ngModel",i.inspectionData.rbkId),o.xb(3),o.ec("ngForOf",i.rbkList),o.xb(7),o.ec("ngModel",i.inspectionData.villageData),o.xb(3),o.ec("ngForOf",i.societyList),o.xb(4),o.ec("hidden",(null==i.inspectionData.farmerInspectionList?null:i.inspectionData.farmerInspectionList.length)<1),o.xb(1),o.ec("dtOptions",i.dtOptions)("dtTrigger",i.dtTrigger),o.xb(23),o.ec("ngIf",(null==i.inspectionData.farmerInspectionList?null:i.inspectionData.farmerInspectionList.length)>0),o.xb(1),o.ec("hidden",(null==i.inspectionData.farmerInspectionList?null:i.inspectionData.farmerInspectionList.length)<1),o.xb(3),o.ec("ngIf",i.showFarmersPopup))},directives:[v.p,v.h,v.i,v.j,v.q,n.l,O.a,n.m,v.b,v.d,A.a],pipes:[n.g],styles:[""]}),t})(),canActivate:[a.a],data:{roles:vt}},{path:"societyInspection",component:(()=>{class t{constructor(t,i,e,n,s,a,o,r,c){this.spinner=t,this.toast=i,this.router=e,this.mcuAPI=n,this.utils=s,this.logger=a,this.session=o,this.collectorAPI=r,this.commonAPI=c,this.mandalList=[],this.rbkList=[],this.societyList=[],this.equipmentList=[],this.reasonsList=[],this.inspectionData={districtId:"",mandalId:"",rbkId:"",villageData:"",villageId:"",societyId:"",equipmentId:"",reason:"",remarks:"",insertedBy:"",source:"",inspectionImg:"",isEquipmentWorking:""}}ngOnInit(){""!=this.session.uniqueId&&""!=this.session.desigId||this.router.navigate(["/shared/UnAuthorized"]),this.loadMandalList(),this.reasonDataList()}loadMandalList(){return Object(N.a)(this,void 0,void 0,(function*(){try{const t={districtId:this.session.districtId};this.spinner.show();const i=yield this.commonAPI.mandalListByDistrictId(t);this.spinner.hide(),i.success?this.mandalList=i.result:this.toast.info(i.message)}catch(t){this.spinner.hide(),this.utils.catchResponse(t)}}))}onMandalChange(){return Object(N.a)(this,void 0,void 0,(function*(){try{if(this.rbkList=[],this.societyList=[],this.inspectionData.rbkId="",this.inspectionData.villageId="",this.inspectionData.societyId="",this.inspectionData.villageData="",this.equipmentList=[],this.inspectionData.equipmentId="",this.inspectionData.isEquipmentWorking="",this.utils.isEmpty(this.inspectionData.mandalId))return;const t={districtId:this.session.districtId,mandalId:this.inspectionData.mandalId};this.spinner.show();const i=yield this.commonAPI.rbkListByMandalId(t);this.spinner.hide(),i.success?this.rbkList=i.result:this.toast.info(i.message)}catch(t){this.spinner.hide(),this.utils.catchResponse(t)}}))}onRbkChange(){return Object(N.a)(this,void 0,void 0,(function*(){try{if(this.inspectionData.villageId="",this.inspectionData.societyId="",this.inspectionData.villageData="",this.societyList=[],this.equipmentList=[],this.inspectionData.equipmentId="",this.inspectionData.isEquipmentWorking="",this.utils.isEmpty(this.inspectionData.rbkId))return;const t={districtId:this.session.districtId,rbkId:this.inspectionData.rbkId,uniqueId:this.session.rbkGroupId};this.spinner.show();const i=yield this.commonAPI.societyListRbkId(t);i.success?this.societyList=i.result:this.toast.info(i.message),this.spinner.hide()}catch(t){this.spinner.hide(),this.utils.catchResponse(t)}}))}onSocietyChange(){return Object(N.a)(this,void 0,void 0,(function*(){try{if(this.equipmentList=[],this.inspectionData.equipmentId="",this.inspectionData.isEquipmentWorking="",this.inspectionData.reason="",this.inspectionData.societyId=JSON.parse(this.inspectionData.villageData).VDCS_CODE,this.inspectionData.villageId=JSON.parse(this.inspectionData.villageData).VILLAGE_CODE,this.utils.isEmpty(this.inspectionData.societyId))return;const t={societyId:this.inspectionData.societyId};this.spinner.show();const i=yield this.collectorAPI.equipmentList(t);i.success?this.equipmentList=i.result:this.toast.info(i.message),this.spinner.hide()}catch(t){this.spinner.hide(),this.utils.catchResponse(t)}}))}reasonDataList(){return Object(N.a)(this,void 0,void 0,(function*(){try{const t={};this.spinner.show();const i=yield this.collectorAPI.reasonList(t);i.success?this.reasonsList=i.result:this.toast.info(i.message),this.spinner.hide()}catch(t){this.spinner.hide(),this.utils.catchResponse(t)}}))}btnSubmit(){return Object(N.a)(this,void 0,void 0,(function*(){try{if(this.validate()){this.inspectionData.insertedBy=this.session.userName,this.inspectionData.districtId=this.session.districtId,this.inspectionData.source="web",this.spinner.show();const t=yield this.collectorAPI.societyInspectionSub(this.inspectionData);t.success?(alert(t.message),window.location.reload()):(this.toast.info(t.message),this.spinner.hide())}}catch(t){this.spinner.hide(),this.utils.catchResponse(t)}}))}validate(){return this.utils.isEmpty(this.inspectionData.mandalId)?(this.toast.warning("Please Select Mandal"),!1):this.utils.isEmpty(this.inspectionData.rbkId)?(this.toast.warning("Please Select RSK"),!1):this.utils.isEmpty(this.inspectionData.villageId)?(this.toast.warning("Please Select Society"),!1):this.utils.isEmpty(this.inspectionData.equipmentId)?(this.toast.warning("Please Select Equipment"),!1):this.utils.isEmpty(this.inspectionData.isEquipmentWorking)?(this.toast.warning("Please Select Equipment Working Or Not"),!1):"0"===this.inspectionData.isEquipmentWorking&&this.utils.isEmpty(this.inspectionData.reason)?(this.toast.warning("Please Select Reason"),!1):"0"===this.inspectionData.isEquipmentWorking&&"0"===this.inspectionData.reason&&this.utils.isEmpty(this.inspectionData.remarks)?(this.toast.warning("Please Enter Remarks"),!1):!this.utils.isEmpty(this.inspectionData.inspectionImg)||(this.toast.warning("Please Select Image"),!1)}onInspectionImageChange(t){return Object(N.a)(this,void 0,void 0,(function*(){try{const i=yield this.utils.encodedString(t,this.utils.fileType.IMAGE,this.utils.fileSize.twoHundredKB);i&&(this.inspectionData.inspectionImg=i.replace("data:image/jpeg;base64,",""))}catch(i){this.utils.catchResponse(i)}}))}}return t.\u0275fac=function(i){return new(i||t)(o.Jb(r.c),o.Jb(d.a),o.Jb(s.c),o.Jb(tt.a),o.Jb(b.a),o.Jb(D.a),o.Jb(c.a),o.Jb(Y.a),o.Jb(x.a))},t.\u0275cmp=o.Db({type:t,selectors:[["app-society-inspection"]],decls:71,vars:11,consts:[[1,"card"],[1,"card-header","p-2"],[1,"mb-0"],[1,"card-body"],[1,"row"],[1,"col-md-4"],[1,"form-group"],["for","mandalId"],[2,"color","red"],["id","mandalId",1,"form-control",3,"ngModel","ngModelChange","change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","rbkId"],["id","rbkId",1,"form-control",3,"ngModel","ngModelChange","change"],["for","villageId"],["id","villageId",1,"form-control",3,"ngModel","ngModelChange","change"],["for","farmerData"],["id","equipmentId",1,"form-control",3,"ngModel","ngModelChange"],["for","typeOfMilk"],["id","isEquipmentWorking",1,"form-control",3,"ngModel","ngModelChange"],["value","1"],["value","0"],["class","col-md-4",4,"ngIf"],["for","inspectionImg"],["type","file","id","inspectionImg","accept","image/*","autocomplete","off",1,"form-control","p-0",3,"change"],["align","center",1,"col-md-12"],["type","button",1,"btn","btn-success","btn-sm",3,"click"],[3,"value"],["id","preason",1,"form-control",3,"ngModel","ngModelChange"],["for","amount"],["id","remarks","type","text","placeholder","Please Enter Remarks","maxlength","50","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"]],template:function(t,i){1&t&&(o.Ob(0,"div",0),o.Ob(1,"div",1),o.Ob(2,"h5",2),o.wc(3,"SOCIETY INSPECTION"),o.Nb(),o.Nb(),o.Ob(4,"div",3),o.Ob(5,"div",4),o.Ob(6,"div",5),o.Ob(7,"div",6),o.Ob(8,"label",7),o.wc(9,"MANDAL "),o.Ob(10,"span",8),o.wc(11,"*"),o.Nb(),o.Nb(),o.Ob(12,"select",9),o.Vb("ngModelChange",(function(t){return i.inspectionData.mandalId=t}))("change",(function(){return i.onMandalChange()})),o.Ob(13,"option",10),o.wc(14,"-- SELECT MANDAL --"),o.Nb(),o.vc(15,mt,2,2,"option",11),o.Nb(),o.Nb(),o.Nb(),o.Ob(16,"div",5),o.Ob(17,"div",6),o.Ob(18,"label",12),o.wc(19,"RSK "),o.Ob(20,"span",8),o.wc(21,"*"),o.Nb(),o.Nb(),o.Ob(22,"select",13),o.Vb("ngModelChange",(function(t){return i.inspectionData.rbkId=t}))("change",(function(){return i.onRbkChange()})),o.Ob(23,"option",10),o.wc(24,"-- SELECT RSK --"),o.Nb(),o.vc(25,Nt,2,2,"option",11),o.Nb(),o.Nb(),o.Nb(),o.Ob(26,"div",5),o.Ob(27,"div",6),o.Ob(28,"label",14),o.wc(29,"SOCIETY "),o.Ob(30,"span",8),o.wc(31,"*"),o.Nb(),o.Nb(),o.Ob(32,"select",15),o.Vb("ngModelChange",(function(t){return i.inspectionData.villageData=t}))("change",(function(){return i.onSocietyChange()})),o.Ob(33,"option",10),o.wc(34,"-- SELECT SOCIETY --"),o.Nb(),o.vc(35,Ot,3,4,"option",11),o.Nb(),o.Nb(),o.Nb(),o.Ob(36,"div",5),o.Ob(37,"div",6),o.Ob(38,"label",16),o.wc(39,"EQUIPMENT "),o.Ob(40,"span",8),o.wc(41,"*"),o.Nb(),o.Nb(),o.Ob(42,"select",17),o.Vb("ngModelChange",(function(t){return i.inspectionData.equipmentId=t})),o.Ob(43,"option",10),o.wc(44,"-- SELECT EQUIPMENT --"),o.Nb(),o.vc(45,gt,2,2,"option",11),o.Nb(),o.Nb(),o.Nb(),o.Ob(46,"div",5),o.Ob(47,"div",6),o.Ob(48,"label",18),o.wc(49," EQUIPMENT IS WORKING "),o.Ob(50,"span",8),o.wc(51,"*"),o.Nb(),o.Nb(),o.Ob(52,"select",19),o.Vb("ngModelChange",(function(t){return i.inspectionData.isEquipmentWorking=t})),o.Ob(53,"option",10),o.wc(54,"-- SELECT --"),o.Nb(),o.Ob(55,"option",20),o.wc(56,"YES"),o.Nb(),o.Ob(57,"option",21),o.wc(58,"NO"),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.vc(59,It,10,2,"div",22),o.vc(60,Dt,7,1,"div",22),o.Ob(61,"div",5),o.Ob(62,"div",6),o.Ob(63,"label",23),o.wc(64,"Inspection Image "),o.Ob(65,"span",8),o.wc(66,"*"),o.Nb(),o.Nb(),o.Ob(67,"input",24),o.Vb("change",(function(t){return i.onInspectionImageChange(t)})),o.Nb(),o.Nb(),o.Nb(),o.Ob(68,"div",25),o.Ob(69,"button",26),o.Vb("click",(function(){return i.btnSubmit()})),o.wc(70," SUBMIT "),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Nb()),2&t&&(o.xb(12),o.ec("ngModel",i.inspectionData.mandalId),o.xb(3),o.ec("ngForOf",i.mandalList),o.xb(7),o.ec("ngModel",i.inspectionData.rbkId),o.xb(3),o.ec("ngForOf",i.rbkList),o.xb(7),o.ec("ngModel",i.inspectionData.villageData),o.xb(3),o.ec("ngForOf",i.societyList),o.xb(7),o.ec("ngModel",i.inspectionData.equipmentId),o.xb(3),o.ec("ngForOf",i.equipmentList),o.xb(7),o.ec("ngModel",i.inspectionData.isEquipmentWorking),o.xb(7),o.ec("ngIf","0"==i.inspectionData.isEquipmentWorking),o.xb(1),o.ec("ngIf","0"==i.inspectionData.isEquipmentWorking&&"0"==i.inspectionData.reason))},directives:[v.p,v.h,v.i,v.j,v.q,n.l,n.m,v.b,v.d],pipes:[n.g],styles:[""]}),t})(),canActivate:[a.a],data:{roles:vt}}]}];let wt=(()=>{class t{}return t.\u0275mod=o.Hb({type:t}),t.\u0275inj=o.Gb({factory:function(i){return new(i||t)},imports:[[s.f.forChild(At)],s.f]}),t})();var yt=e("PCNd");let Et=(()=>{class t{}return t.\u0275mod=o.Hb({type:t}),t.\u0275inj=o.Gb({factory:function(i){return new(i||t)},imports:[[n.c,wt,v.c,v.n,O.b,yt.sharedModule]]}),t})()}}]);